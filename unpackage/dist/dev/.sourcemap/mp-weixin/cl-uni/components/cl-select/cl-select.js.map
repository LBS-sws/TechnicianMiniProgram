{"version":3,"sources":["webpack:///D:/phpstudy_pro/WWW/10006/TechnicianMiniProgram/cl-uni/components/cl-select/cl-select.vue?9c7a","webpack:///D:/phpstudy_pro/WWW/10006/TechnicianMiniProgram/cl-uni/components/cl-select/cl-select.vue?c77a","webpack:///D:/phpstudy_pro/WWW/10006/TechnicianMiniProgram/cl-uni/components/cl-select/cl-select.vue?b440","webpack:///D:/phpstudy_pro/WWW/10006/TechnicianMiniProgram/cl-uni/components/cl-select/cl-select.vue?2eee","uni-app:///cl-uni/components/cl-select/cl-select.vue"],"names":["name","props","value","mode","type","default","placeholder","options","labelKey","valueKey","separator","disabled","border","fields","start","end","defaultFirstOption","setOptionsIsParseValue","mixins","data","index","text","watch","immediate","handler","computed","rangeKey","showPlaceholder","classList","list","methods","parse","filter","map","join","console","onChange","onColumnChange","i","selects","onCancel"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsH;AACtH;AAC6D;AACL;;;AAGxD;AACoM;AACpM,gBAAgB,yMAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA8vB,CAAgB,+vBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;AC6BlxB;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArBA,gBAuBA;EACAA;EAEAC;IACA;IACAC;IACA;IACAC;MACAC;MACAC;IACA;IACA;IACAC;MACAF;MACAC;IACA;IACA;IACAE;MACAH;MACAC;QAAA;MAAA;IACA;IACA;IACAG;MACAJ;MACAC;IACA;IACA;IACAI;MACAL;MACAC;IACA;IACA;IACAK;MACAN;MACAC;IACA;IACA;IACAM;IACA;IACAC;IACA;IACAC;MACAT;MACAC;IACA;IACA;IACAS;IACA;IACAC;IACA;IACAC;MACAZ;MACAC;IACA;IACA;IACAY;EACA;EAEAC;EAEAC;IACA;MACAC;MACAC;IACA;EACA;EAEAC;IACApB;MACAqB;MACAC;QACA;MACA;IACA;IACAjB;MACAgB;MACAC;QACA;QACA;UACA;QACA;;QAEA;QACA;UACA;YACA;UACA;QACA;MACA;IACA;EACA;EAEAC;IACAC;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MACA;MAEA;QACAC;MACA;MAEA;QACAA;MACA;MAEA;IACA;EACA;EAEAC;IACAC;MAAA;MACA;MACA;QACA;UACA;YACA;cAAA;YAAA;UACA;YACA;cACA;gBAAA,OACA;cAAA,EACA;YACA;UACA;YACA;QAAA;MAEA;;MAEA;MACA;QACA;UACA;YACA,oCACA,6CACA;UACA;YACA,mBACAC;cAAA;YAAA,GACAC;cAAA;YAAA,GACAC;UACA;YACAC;UACA;YACA;QAAA;MAEA;IACA;IACAC;MAAA;MAAA;MACA;QACA;MACA;;MAEA;MACA;;MAEA;MACA;MAEA;QACA;UACAjB;UACAjB;UACA;QACA;UACAiB,oBACAc;YAAA;UAAA,GACAA;YAAA;UAAA;UACA/B;YAAA;UAAA;UACA;QACA;UACAA;MAAA;MAGA;MACA;MACA;IACA;IACAmC;MAAA;MACA;QAAA,OACAC;MAAA,EACA;MAEA;QAAAC;MAAA;IACA;IACAC;MACA;IACA;EACA;AACA;AAAA,4B","file":"cl-uni/components/cl-select/cl-select.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./cl-select.vue?vue&type=template&id=33771e86&\"\nvar renderjs\nimport script from \"./cl-select.vue?vue&type=script&lang=js&\"\nexport * from \"./cl-select.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\软件\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"cl-uni/components/cl-select/cl-select.vue\"\nexport default component.exports","export * from \"-!E:\\\\软件\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\软件\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\软件\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\软件\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\软件\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cl-select.vue?vue&type=template&id=33771e86&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\软件\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\软件\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\软件\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\软件\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cl-select.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\软件\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\软件\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\软件\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\软件\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\HBuilderX.3.6.18.20230117\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cl-select.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"cl-select\" :class=\"[classList]\">\n\t\t<picker\n\t\t\t:mode=\"mode\"\n\t\t\t:value=\"index\"\n\t\t\t:range=\"options\"\n\t\t\t:range-key=\"rangeKey\"\n\t\t\t:disabled=\"isDisabled\"\n\t\t\t:end=\"end\"\n\t\t\t:start=\"start\"\n\t\t\t:fields=\"fields\"\n\t\t\t@change=\"onChange\"\n\t\t\t@columnchange=\"onColumnChange\"\n\t\t\t@cancel=\"onCancel\"\n\t\t>\n\t\t\t<view class=\"cl-select__inner\">\n\t\t\t\t<text class=\"cl-select__value\"\n\t\t\t\t\t>{{ text\n\t\t\t\t\t}}<text class=\"cl-select__placeholder\" v-if=\"showPlaceholder\">{{\n\t\t\t\t\t\tplaceholder\n\t\t\t\t\t}}</text></text\n\t\t\t\t>\n\t\t\t\t<text class=\"cl-select__icon cl-icon-arrow-bottom\"></text>\n\t\t\t</view>\n\t\t</picker>\n\t</view>\n</template>\n\n<script>\nimport { isArray, isEmpty, compareValue } from \"../../utils\";\nimport Form from \"../../mixins/form\";\n\n/**\n * select 下拉选择\n * @description 下拉选择，基于 picker 组件的封装\n * @tutorial https://docs.cool-js.com/uni/components/form/select.html\n * @property {null} value 绑定值\n * @property {String, Number} mode 选择器模式，selector | multiSelector\n * @property {String} placeholder 占位内容\n * @property {Array<Object>} options 数据列表\n * @property {String} labelKey 内容关键字，默认label\n * @property {String} valueKey 值关键字，默认value\n * @property {String} separator 分隔符，默认 /\n * @property {Boolean} disabled 是否禁用\n * @property {Boolean} border 是否带有边框\n * @property {Boolean} fields 日期字段，有效值 year | month | day\n * @property {Boolean} start 有效日期的开始\n * @property {Boolean} end 有效日期的结束\n * @event {Function} change 绑定值改变时触发\n * @event {Function} confirm 绑定值改变时触发，返回完整数据\n * @event {Function} cancel 取消时触发\n * @event {Function} column-change 列发生改变时触发\n * @example <cl-select :options=\"[{label: '内容1', value: 1},{label: '内容2', value: 2}]\" />\n */\n\nexport default {\n\tname: \"cl-select\",\n\n\tprops: {\n\t\t// 绑定值\n\t\tvalue: null,\n\t\t// 选择器模式\n\t\tmode: {\n\t\t\ttype: String,\n\t\t\tdefault: \"selector\",\n\t\t},\n\t\t// 占位内容\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\tdefault: \"请选择\",\n\t\t},\n\t\t// 数据列表\n\t\toptions: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t},\n\t\t// 内容关键字\n\t\tlabelKey: {\n\t\t\ttype: String,\n\t\t\tdefault: \"label\",\n\t\t},\n\t\t// 值关键字\n\t\tvalueKey: {\n\t\t\ttype: String,\n\t\t\tdefault: \"value\",\n\t\t},\n\t\t// 分隔符\n\t\tseparator: {\n\t\t\ttype: String,\n\t\t\tdefault: \"/\",\n\t\t},\n\t\t// 是否禁用\n\t\tdisabled: Boolean,\n\t\t// 是否带有边框\n\t\tborder: Boolean,\n\t\t// 日期字段，有效值 year | month | day\n\t\tfields: {\n\t\t\ttype: String,\n\t\t\tdefault: \"day\",\n\t\t},\n\t\t// 有效日期的开始\n\t\tstart: String,\n\t\t// 有效日期的结束\n\t\tend: String,\n\t\t// 是否默认返回第一个\n\t\tdefaultFirstOption: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\t// 设置 options 时是否重新解析 value\n\t\tsetOptionsIsParseValue: Boolean,\n\t},\n\n\tmixins: [Form],\n\n\tdata() {\n\t\treturn {\n\t\t\tindex: \"\",\n\t\t\ttext: \"\",\n\t\t};\n\t},\n\n\twatch: {\n\t\tvalue: {\n\t\t\timmediate: true,\n\t\t\thandler(val) {\n\t\t\t\tthis.parse(val);\n\t\t\t},\n\t\t},\n\t\toptions: {\n\t\t\timmediate: true,\n\t\t\thandler(arr) {\n\t\t\t\t// 避免重复设置 options 异常问题\n\t\t\t\tif (!this.setOptionsIsParseValue) {\n\t\t\t\t\tthis.parse(this.value);\n\t\t\t\t}\n\n\t\t\t\t// 为空时，默认返回列表第一个\n\t\t\t\tif (arr && arr.length > 0 && this.defaultFirstOption) {\n\t\t\t\t\tif (this.value === undefined) {\n\t\t\t\t\t\tthis.$emit(\"input\", arr[0][this.valueKey]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t},\n\n\tcomputed: {\n\t\trangeKey() {\n\t\t\treturn this.mode == \"region\" ? \"\" : this.labelKey;\n\t\t},\n\n\t\tshowPlaceholder() {\n\t\t\treturn isEmpty(this.text);\n\t\t},\n\n\t\tclassList() {\n\t\t\tlet list = [];\n\n\t\t\tif (this.isDisabled) {\n\t\t\t\tlist.push(\"is-disabled\");\n\t\t\t}\n\n\t\t\tif (this.border) {\n\t\t\t\tlist.push(\"is-border\");\n\t\t\t}\n\n\t\t\treturn list.join(\" \");\n\t\t},\n\t},\n\n\tmethods: {\n\t\tparse(val) {\n\t\t\t// 取下标\n\t\t\tthis.index = (() => {\n\t\t\t\tswitch (this.mode) {\n\t\t\t\t\tcase \"selector\":\n\t\t\t\t\t\treturn this.options.findIndex((e) => compareValue(e[this.valueKey], val));\n\t\t\t\t\tcase \"multiSelector\":\n\t\t\t\t\t\treturn (isArray(val) ? val : [val]).map((v, i) => {\n\t\t\t\t\t\t\treturn this.options[i].findIndex((e) =>\n\t\t\t\t\t\t\t\tcompareValue(e[this.valueKey], v)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn val;\n\t\t\t\t}\n\t\t\t})();\n\n\t\t\t// 取文本值\n\t\t\tthis.text = (() => {\n\t\t\t\tswitch (this.mode) {\n\t\t\t\t\tcase \"selector\":\n\t\t\t\t\t\treturn this.options[this.index]\n\t\t\t\t\t\t\t? this.options[this.index][this.labelKey]\n\t\t\t\t\t\t\t: \"\";\n\t\t\t\t\tcase \"multiSelector\":\n\t\t\t\t\t\treturn this.index\n\t\t\t\t\t\t\t.filter((v) => v >= 0)\n\t\t\t\t\t\t\t.map((v, i) => this.options[i][v][this.labelKey])\n\t\t\t\t\t\t\t.join(this.separator);\n\t\t\t\t\tcase \"region\":\n\t\t\t\t\t\tconsole.warn(\"请使用 cl-select-region 代替\");\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn this.index;\n\t\t\t\t}\n\t\t\t})();\n\t\t},\n\t\tonChange({ detail }) {\n\t\t\tif (detail.value < 0 || detail.value === undefined) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// 返回的完整数据\n\t\t\tlet data = null;\n\n\t\t\t// 返回的唯一数据\n\t\t\tlet value = null;\n\n\t\t\tswitch (this.mode) {\n\t\t\t\tcase \"selector\":\n\t\t\t\t\tdata = this.options[detail.value];\n\t\t\t\t\tvalue = data ? data[this.valueKey] : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"multiSelector\":\n\t\t\t\t\tdata = detail.value\n\t\t\t\t\t\t.map((v) => (v < 0 ? 0 : v))\n\t\t\t\t\t\t.map((v, i) => this.options[i][v]);\n\t\t\t\t\tvalue = data.map((e) => e[this.valueKey]);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tvalue = detail.value;\n\t\t\t}\n\n\t\t\tthis.$emit(\"confirm\", data);\n\t\t\tthis.$emit(\"change\", value);\n\t\t\tthis.$emit(\"input\", value);\n\t\t},\n\t\tonColumnChange({ detail }) {\n\t\t\tthis.index = this.index.map((v, i) =>\n\t\t\t\ti < detail.column ? v : i === detail.column ? detail.value : 0\n\t\t\t);\n\n\t\t\tthis.$emit(\"column-change\", { ...detail, selects: this.index });\n\t\t},\n\t\tonCancel() {\n\t\t\tthis.$emit(\"cancel\");\n\t\t},\n\t},\n};\n</script>\n"],"sourceRoot":""}