{"version":3,"sources":["uni-app:///main.js","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/report/detail.vue?aaf0","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/report/detail.vue?bb4c","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/report/detail.vue?990c","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/report/detail.vue?15f4","uni-app:///pages/report/detail.vue","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/report/detail.vue?cfbf","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/report/detail.vue?9461"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","tTable","tTh","tTr","tTd","Signature","luPopupWrapper","data","name","noClick","current_tab","scroll_left","scroll_into","screen_width","tab_bar","id","tit","type","transition","backgroundColor","active","height","width","popupId","maskShow","maskClick","jobid","jobtype","shortcut_type","service_type","basic","briefing","material","equipment","risk","photo","autograph_employee01_signature","autograph_employee02_signature","autograph_employee03_signature","autograph_customer_signature","autograph_customer_signature_add","autograph_customer_style_add","autograph_customer_grade","show_briefing","show_equipment","show_material","show_photo","show_risk","Staff01","conversion_flag","is_base64","autograph_customer_style","ct","signReview_popshow","signReview_poptitle","signReview_popcontent","question_type","startSign_sData","show","questions","questionsData","radioData","t","v","isShowAdd","onLoad","uni","title","icon","setTimeout","success","onShow","beforeDestroy","methods","radioChange","console","goMaterial","url","change_tab","change_swiper","run_tab","risk_detail","previewImg","imgsArray","current","urls","startSign_s","clearTimeout","startSign_sadd","onStartSign_s","onStartSign_sadd","bottom","close","closeCallback","add","fail","getItems","job_id","job_type","getBaseinfo","header","method","item","getBriefing","getMaterial","getEquipment","getRisk","limit","page","list","getPhoto","save_autograph","staffid","employee01_signature","employee02_signature","employee03_signature","customer_signature","download","responseType","fileManager","filePath","encoding","showMenu","fileType","duration","submitStartSign_sDialog","shouldContinue","sorce","qe","customer_id","question","that"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACc;;;AAGnE;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,6PAEN;AACP,KAAK;AACL;AACA,aAAa,2RAEN;AACP,KAAK;AACL;AACA,aAAa,+NAEN;AACP,KAAK;AACL;AACA,aAAa,kLAEN;AACP,KAAK;AACL;AACA,aAAa,uPAEN;AACP,KAAK;AACL;AACA,aAAa,uPAEN;AACP,KAAK;AACL;AACA,aAAa,uMAEN;AACP,KAAK;AACL;AACA,aAAa,mQAEN;AACP,KAAK;AACL;AACA,aAAa,2RAEN;AACP,KAAK;AACL;AACA,aAAa,mNAEN;AACP,KAAK;AACL;AACA,aAAa,6PAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjIA;AAAA;AAAA;AAAA;AAAioB,CAAgB,gnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCiVrpB;EACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACAC;QACAC;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,EACA;MAEA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;MAEA;MACAC;MACAC;MAEA;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;QACAC;QACAC;MACA;MACAC;MAAA;MACAC;QAAAC;QAAAC;MAAA;QAAAD;QAAAC;MAAA;MAAA;MACAC;IACA;EACA;EACAC;IAAA;IACAC;IACAA;;IAEA;IACA;MACAA;QACAC;QACAC;MACA;MACAC;QACA;MACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAH;MACAI;QACA;MACA;IACA;EAGA;EACAC;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;MACA;IACA;MACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;MACA;IACA;MACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;EACA;EACA;EACAC;IACAN;IACAA;EACA;;EACAO;IACAC;MACAC;MACAA;MACA;IACA;IACAC;MACAD;MACAT;QACAW;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;;MAEA;QACA;MACA;;MACA;QACA;MACA;;MACA;QACA;MACA;;MACA;QACA;MACA;;MACA;QACA;MACA;;MACA;QACA;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACAf;QACAW;MACA;IACA;IACAK;MACA;MACA;MACAC;MACAjB;QACAkB;QACAC;MACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAC;MAAA;MACApB;QACAW;MACA;;MAEA;MACA;QACA;QACAU;MACA;IAEA;IACAC;MACAtB;QACAW;MACA;IACA;IACA;IACAY;MACA;QACA;QACA;MACA;QACAd;MACA;IACA;IACA;IACAe;MACAf;IACA;IACA;IACAgB;MACA;MACA;MACA;MACA;MACA;IACA;IACAjC;MACA;IACA;IACAkC;MACA;IACA;IACAC;MACAlB;IACA;IACAmB;MACA;MACA;MACA5B;QACAW;QACAP;UACAK;QACA;QACAoB;UACA;UACApB;QACA;MACA;IACA;IACAqB;MAAA;MAEA;MACA;QACAC;QACAC;MACA;MACA;QACA;QACA;QACA,sBACA;UACA;QACA;;QAEA;QACA,0CACA;UACA;QACA;QACA;QACA,8CACA;UACA;QACA;;QAEA;QACA;MAEA;QACA;MAAA,CACA;IACA;IACAC;MAAA;MAEA;QACAF;QACAC;MACA;MACAhC;QACAW;QACAuB;UACA;UACA;QACA;QACAC;QACA9F;QACA+D;UACA;YACA;cACA;cACA,gDACA;gBACA;cACA;YACA;YACA;;YAEA;YACA;YACAV;cACA0C;cACAA;YACA;YACA;YACA;UACA;;UAEA,0BACA;YACApC;YACA;UACA;QACA;QACA6B;UACApB;QACA;MACA;IACA;IACA;IACA4B;MAAA;MACA;QACAN;QACAC;MACA;MACAhC;QACAW;QACAuB;UACA;UACA;QACA;QACAC;QACA9F;QACA+D;UACA;YACA;YACA;YACA;UAEA;QAEA;;QACAyB;UACApB;QACA;MACA;IACA;IACA;IACA6B;MAAA;MACA;QACAP;QACAC;MACA;MACAhC;QACAW;QACAuB;UACA;UACA;QACA;QACAC;QACA9F;QACA+D;UACA;YACA;YACA;YACA;YACA;UACA;QAEA;;QACAyB;UACApB;QACA;MACA;IACA;IACA;IACA8B;MAAA;MACA;QACAR;QACAC;MACA;MACAhC;QACAW;QACAuB;UACA;UACA;QACA;QACAC;QACA9F;QACA+D;UACA;YACA;YACA;YACA;YACA;UACA;QAEA;;QACAyB;UACApB;QACA;MACA;IACA;IACA;IACA+B;MAAA;MACA;QACAT;QACAC;QACAS;QACAC;MACA;MACA1C;QACAW;QACAuB;UACA;UACA;QACA;QACAC;QACA9F;QACA+D;UACA;YACA;;YAEA;YACAuC;cACA;cACAP;YACA;YAEA;YACA;YACA;UACA;QAEA;;QACAP;UACApB;QACA;MACA;IACA;IACA;IACAmC;MAAA;MACA;QACAb;QACAC;QACAS;QACAC;MACA;MACA1C;QACAW;QACAuB;UACA;UACA;QACA;QACAC;QACA9F;QACA+D;UACA;YAEA;YACAuC;cACA;cACA;cACAP;gBACAA;cACA;YAEA;YAEA;UACA;QAEA;QACAP;UACApB;QACA;MACA;IACA;IACA;IACAoC;MACA;MACA7C;QACAC;MACA;MACA;QACA6C;QACAf;QACAC;QACAe;QACAC;QACAC;QACAC;QACA;MACA;;MACAlD;QACAW;QACAuB;UACA;UACA;QACA;QACAC;QACA9F;QACA+D;UACAJ;UACA;YACAA;cACAC;cACAC;YACA;UAEA;YACAF;cACAC;cACAC;YACA;UACA;QAEA;QACA2B;UACApB;QACA;MACA;IACA;IACA0C;MAAA;MAEAnD;QACAC;MACA;MACA;QACA;QACA8B;QACAC;MACA;MACAhC;QACAW;QACAuB;UACA;UACA;QACA;QACAC;QACA9F;QACA+G;QAAA;QACAhD;UACA;UACA;UACA;UACAiD;YACAC;YACAjH;YACAkH;YAAA;YACAnD;cACAK;cACAT;gBAAA;gBACAsD;gBACAE;gBACAC;gBACArD;kBACA;kBACAJ;kBACAS;gBACA;gBACAoB;kBACApB;kBACA;kBACAT;kBACAA;oBACAC;oBACAC;oBACAwD;kBACA;gBACA;cACA;YACA;YACA7B;cACA;cACA7B;cACAA;gBACAC;gBACAC;gBAAA;gBACAwD;cACA;;cACAjD;YACA;UACA;QACA;QACAoB;UACA7B;UACAS;QACA;MACA;IACA;IACA;IACAkD;MACA;MACA;;MAIA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAlD;MACA;MACA;QACA;UACAT;YACAC;YACAC;UACA;UACA0D;UACA;QACA;QACA;UACAC;QACA;MACA;MACA;QACA;MACA;MACA;MACA;QACAC;UAAA;UAAA;UAAA;UAAA;UAAA;QAAA;MACA;MAEA;QAEAC;QACAhC;QACAC;QACAgC;QACA;MACA;;MAEA;MACA;;MAEA;MACAhE;QACAW;QACAuB;UACA;UACA;QACA;QACAC;QACA9F;QACA+D;UACA;UACA;YACA6D;UACA;;UAEAjE;YACAC;YACAC;UACA;QAEA;QACA2B;UACApB;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AChjCA;AAAA;AAAA;AAAA;AAAosC,CAAgB,+lCAAG,EAAC,C;;;;;;;;;;;ACAxtC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/report/detail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/report/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=45c9d03a&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/report/detail.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=45c9d03a&\"","var components\ntry {\n  components = {\n    clIcon: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-icon/cl-icon\" */ \"@/cl-uni/components/cl-icon/cl-icon.vue\"\n      )\n    },\n    clListItem: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-list-item/cl-list-item\" */ \"@/cl-uni/components/cl-list-item/cl-list-item.vue\"\n      )\n    },\n    clScroller: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-scroller/cl-scroller\" */ \"@/cl-uni/components/cl-scroller/cl-scroller.vue\"\n      )\n    },\n    tTable: function () {\n      return import(\n        /* webpackChunkName: \"components/t-table/t-table\" */ \"@/components/t-table/t-table.vue\"\n      )\n    },\n    clRow: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-row/cl-row\" */ \"@/cl-uni/components/cl-row/cl-row.vue\"\n      )\n    },\n    clCol: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-col/cl-col\" */ \"@/cl-uni/components/cl-col/cl-col.vue\"\n      )\n    },\n    clList: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-list/cl-list\" */ \"@/cl-uni/components/cl-list/cl-list.vue\"\n      )\n    },\n    clImage: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-image/cl-image\" */ \"@/cl-uni/components/cl-image/cl-image.vue\"\n      )\n    },\n    uModal: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-modal/u-modal\" */ \"uview-ui/components/u-modal/u-modal.vue\"\n      )\n    },\n    clButton: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-button/cl-button\" */ \"@/cl-uni/components/cl-button/cl-button.vue\"\n      )\n    },\n    clRate: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-rate/cl-rate\" */ \"@/cl-uni/components/cl-rate/cl-rate.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 =\n    _vm.current_tab > 0 &&\n    _vm.current_tab <= _vm.tab_bar.length - 2 &&\n    (_vm.basic.status == 2 || _vm.basic.status == -1)\n  var l1 = _vm.show_equipment\n    ? _vm.__map(_vm.equipment, function (item, index) {\n        var $orig = _vm.__get_orig(item)\n        var g1 = item.table_data.length\n        var l0 =\n          g1 > 0\n            ? _vm.__map(item.table_data, function (contents, index_cs) {\n                var $orig = _vm.__get_orig(contents)\n                var g2 = JSON.stringify(item.content)\n                return {\n                  $orig: $orig,\n                  g2: g2,\n                }\n              })\n            : null\n        return {\n          $orig: $orig,\n          g1: g1,\n          l0: l0,\n        }\n      })\n    : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.signReview_popshow = false\n    }\n    _vm.e1 = function ($event) {\n      _vm.startSign_sData.show = false\n    }\n    _vm.e2 = function ($event) {\n      _vm.startSign_sData.show = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        l1: l1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<view class=\"download\" @tap=\"download()\" v-if=\"current_tab==0\">\n\t\t\t<cl-icon name=\"cl-icon-cloud-download\" color=\"#007AFF\" :size=\"80\"></cl-icon>\n\t\t</view>\n\t\t\n\t\t<view>\n\t\t\t<view class=\"add\" @tap=\"add()\" v-if=\"(current_tab>0 && current_tab<=tab_bar.length-2) && (basic.status==2 || basic.status==-1)\">\n\t\t\t\t<cl-icon name=\"cl-icon-plus-border\" color=\"#007AFF\" :size=\"80\"></cl-icon>\n\t\t\t</view>\n\t\t</view>\n\t\t<scroll-view scroll-x=\"true\" class=\"tab-h\" v-bind:scroll-into-view=\"scroll_into\"\n\t\t\tv-bind:scroll-with-animation=\"true\">\n\t\t\t<view v-for=\"(item, index) in tab_bar\" class=\"tab-item\"\n\t\t\t\tv-bind:class=\"current_tab==index ? 'tab-bar-active' : ''\" v-bind:key=\"index\" v-bind:data-current=\"index\"\n\t\t\t\tv-bind:id=\"item.id\" v-on:click=\"change_tab\">{{item.tit}}</view>\n\t\t</scroll-view> \n\t\t<view class=\"hr\"></view>\n\t\t<swiper class=\"swiper\" v-bind:current=\"current_tab\" duration=\"300\" @change=\"change_swiper\">\n\t\t\t<!-- 基础信息 -->\n\t\t\t<swiper-item>\n\t\t\t\t<view style=\"border-bottom: 1px solid #eeeeee;\">\n\t\t\t\t\t<cl-list-item label=\"客户名称：\">\n\t\t\t\t\t\t<text selectable=\"true\">{{basic.customer.name_zh}}</text>\n\t\t\t\t\t</cl-list-item>\n\t\t\t\t</view>\n\t\t\t\t<view style=\"border-bottom: 1px solid #eeeeee;\">\n\t\t\t\t\t<cl-list-item label=\"客户地址：\">\n\t\t\t\t\t\t<text selectable=\"true\">{{basic.customer.addr}}</text>\n\t\t\t\t\t</cl-list-item>\n\t\t\t\t</view>\n\t\t\t\t<view style=\"border-bottom: 1px solid #eeeeee;\">\n\t\t\t\t\t<cl-list-item label=\"联系人员：\">\n\t\t\t\t\t\t<text selectable=\"true\">{{basic.contact.contact_name}}</text>\n\t\t\t\t\t</cl-list-item>\n\t\t\t\t</view>\n\t\t\t\t<view style=\"border-bottom: 1px solid #eeeeee;\">\n\t\t\t\t\t<cl-list-item label=\"联系方式：\">\n\t\t\t\t\t\t<text selectable=\"true\">{{basic.contact.mobile}}</text>\n\t\t\t\t\t</cl-list-item>\n\t\t\t\t</view>\n\t\t\t\t<view style=\"border-bottom: 1px solid #eeeeee;\">\n\t\t\t\t\t<cl-list-item label=\"服务类型：\">\n\t\t\t\t\t\t<text selectable=\"true\">{{basic.service_type_info.service_name}}</text>\n\t\t\t\t\t</cl-list-item>\n\t\t\t\t</view>\n\t\t\t\t<view style=\"border-bottom: 1px solid #eeeeee;\">\n\t\t\t\t\t<cl-list-item label=\"服务项目：\">\n\t\t\t\t\t\t<text selectable=\"true\">{{basic.project}}</text>\n\t\t\t\t\t</cl-list-item>\n\t\t\t\t</view>\n\t\t\t\t<view style=\"border-bottom: 1px solid #eeeeee;\">\n\t\t\t\t\t<cl-list-item label=\"服务时间(开始)：\">\n\t\t\t\t\t\t<text selectable=\"true\">{{basic.start_date}}  &nbsp; {{basic.start_time}}</text>\n\t\t\t\t\t</cl-list-item>\n\t\t\t\t</view>\n\t\t\t\t<view style=\"border-bottom: 1px solid #eeeeee;\">\n\t\t\t\t\t<cl-list-item label=\"服务时间(结束)：\">\n\t\t\t\t\t\t<text v-if=\"basic.finish_date\">{{basic.finish_date}}  &nbsp; {{basic.finish_time}}</text>\n\t\t\t\t\t</cl-list-item>\n\t\t\t\t</view>\n\t\t\t\t<view style=\"border-bottom: 1px solid #eeeeee;\">\n\t\t\t\t\t<cl-list-item label=\"服务人员：\">\n\t\t\t\t\t\t<text selectable=\"true\">{{basic.staff.main}}</text> <text selectable=\"true\">{{basic.staff.other}}</text>\n\t\t\t\t\t</cl-list-item>\n\t\t\t\t</view>\n\t\t\t\t<view style=\"border-bottom: 1px solid #eeeeee;\">\n\t\t\t\t\t<cl-list-item label=\"设备巡查：\">\n\t\t\t\t\t\t<text selectable=\"true\">{{basic.equipments}}</text>\n\t\t\t\t\t</cl-list-item>\n\t\t\t\t</view>\n\t\t\t</swiper-item>\n\t\t\t<!-- 服务简报 -->\n\t\t\t<swiper-item v-if=\"show_briefing\">\n\t\t\t\t<view style=\"border-bottom: 1px solid #eeeeee;background-color: #FFFFFF;\" v-if=\"briefing.content\">\n\t\t\t\t\t<view class=\"service_title\">服务内容</view>\n\t\t\t\t\t<view class=\"service_content\">\n\t\t\t\t\t\t<text selectable=\"true\">{{briefing.content}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view style=\"border-bottom: 1px solid #eeeeee;background-color: #FFFFFF;\" v-if=\"briefing.proposal\">\n\t\t\t\t\t<view class=\"service_title\">跟进与建议</view>\n\t\t\t\t\t<view class=\"service_content\">\n\t\t\t\t\t\t<text selectable=\"true\">{{briefing.proposal}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</swiper-item>\n\t\t\t<!-- 物料使用 -->\n\t\t\t<swiper-item v-if=\"show_material\">\n\t\t\t\t<cl-scroller>\n\t\t\t\t\t<view style=\"background-color: #FFFFFF;\" v-for=\"(item,index) in material\">\n\t\t\t\t\t\t<view class=\"material_title\" style=\"border-bottom: 1px solid #eeeeee;display: flex;justify-content: space-between;\">\n\t\t\t\t\t\t\t{{item.material_name}}\n\t\t\t\t\t\t\t<view>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view style=\"padding: 3px 5px;border: 1px solid #ffffff;background: #2b9cec;color: #ffffff;border-radius: 3px;letter-spacing: 4px;\"\n\t\t\t\t\t\t\t\tv-if=\"item.img_arr==1\" @click=\"goMaterial(item.id)\">\n\t\t\t\t\t\t\t\t物料证件\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view style=\"border-bottom: 1px solid #eeeeee;\">\n\t\t\t\t\t\t\t<cl-list-item label=\"农药登记证号：\">\n\t\t\t\t\t\t\t\t<text>{{item.material_registration_no}}</text>\n\t\t\t\t\t\t\t</cl-list-item>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view style=\"border-bottom: 1px solid #eeeeee;\">\n\t\t\t\t\t\t\t<cl-list-item label=\"有效成分：\">\n\t\t\t\t\t\t\t\t<text>{{item.material_active_ingredient}}</text>\n\t\t\t\t\t\t\t</cl-list-item>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view style=\"border-bottom: 1px solid #eeeeee;\">\n\t\t\t\t\t\t\t<cl-list-item label=\"药物配比：\">\n\t\t\t\t\t\t\t\t<text>{{item.material_ratio}}</text>\n\t\t\t\t\t\t\t</cl-list-item>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view style=\"border-bottom: 1px solid #eeeeee;\">\n\t\t\t\t\t\t\t<cl-list-item label=\"靶标：\">\n\t\t\t\t\t\t\t\t<text>{{item.targets}}</text>\n\t\t\t\t\t\t\t</cl-list-item>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view style=\"border-bottom: 1px solid #eeeeee;\">\n\t\t\t\t\t\t\t<cl-list-item label=\"使用方式：\">\n\t\t\t\t\t\t\t\t<text>{{item.use_mode}}</text>\n\t\t\t\t\t\t\t</cl-list-item>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view style=\"border-bottom: 1px solid #eeeeee;\">\n\t\t\t\t\t\t\t<cl-list-item label=\"使用区域：\">\n\t\t\t\t\t\t\t\t<text>{{item.use_area}}</text>\n\t\t\t\t\t\t\t</cl-list-item>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view style=\"border-bottom: 1px solid #eeeeee;\">\n\t\t\t\t\t\t\t<cl-list-item label=\"处理空间/面积：\">\n\t\t\t\t\t\t\t\t<text>{{item.processing_space}}</text>\n\t\t\t\t\t\t\t</cl-list-item>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view style=\"border-bottom: 1px solid #eeeeee;\">\n\t\t\t\t\t\t\t<cl-list-item label=\"药物用量：\">\n\t\t\t\t\t\t\t\t<text>{{item.dosage}}{{item.unit}}</text>\n\t\t\t\t\t\t\t</cl-list-item>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view style=\"border-bottom: 1px solid #eeeeee;\">\n\t\t\t\t\t\t\t<cl-list-item label=\"注意事项：\">\n\t\t\t\t\t\t\t\t<text>{{item.matters_needing_attention}}</text>\n\t\t\t\t\t\t\t</cl-list-item>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</cl-scroller>\n\t\t\t</swiper-item>\n\t\t\t<!-- 设备巡查 -->\n\t\t\t<swiper-item style=\"background-color: #FFFFFF;\" v-if=\"show_equipment\">\n\t\t\t\t<cl-scroller>\n\t\t\t\t\t<view class=\"new_card\" v-for=\"(item, index) in equipment\">\n\t\t\t\t\t\t<view class=\"new_card_title\">\n\t\t\t\t\t\t\t<view class=\"new_card_title_left\">\n\t\t\t\t\t\t\t\t<span class=\"xh\">|</span>\n\t\t\t\t\t\t\t\t{{item.equipment_name}}({{item.use_count}}/{{item.total_count}})\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"new_card_content\" v-if=\"item.table_data.length>0\">\n\t\t\t\t\t\t\t<t-table>\n\t\t\t\t\t\t\t\t<t-tr>\n\t\t\t\t\t\t\t\t\t<t-th v-for=\"(table_title, index_t) in item.table_title\" :key=\"index_t\">{{table_title}}</t-th>\n\t\t\t\t\t\t\t\t</t-tr>\n\t\t\t\t\t\t\t\t<t-tr v-if=\"JSON.stringify(item.content)!='{}'\"\n\t\t\t\t\t\t\t\t\tv-for=\"(contents, index_cs) in item.table_data\" :key=\"index_cs\">\n\t\t\t\t\t\t\t\t\t<t-td v-for=\"(content, index_c) in contents\" :key=\"index_c\">\n\t\t\t\t\t\t\t\t\t\t<text v-if=\"content !='null'\">{{content}}</text>\n\t\t\t\t\t\t\t\t\t</t-td>\n\t\t\t\t\t\t\t\t</t-tr>\n\t\t\t\t\t\t\t</t-table>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</cl-scroller>\n\t\t\t</swiper-item>\n\t\t\t<!-- 风险跟进 -->\n\t\t\t<swiper-item v-if=\"show_risk\">\n\t\t\t\t<cl-scroller>\n\t\t\t\t\t<view class=\"risk\" v-for=\"(item,index) in risk\" @tap=\"risk_detail(item.id)\">\n\t\t\t\t\t\t<cl-row>\n\t\t\t\t\t\t\t<cl-col span=\"9\">\n\t\t\t\t\t\t\t\t<img :src=\"item.img\" />\n\t\t\t\t\t\t\t</cl-col>\n\t\t\t\t\t\t\t<cl-col span=\"15\" style=\"text-align: left;line-height: 22px;\">\n\t\t\t\t\t\t\t\t<cl-list><span>标靶：</span>{{item.risk_targets}}</cl-list>\n\t\t\t\t\t\t\t\t<cl-list v-if=\"ct==1\"><span>风险区域：</span>{{item.risk_area}}</cl-list>\n\t\t\t\t\t\t\t\t<cl-list><span>风险类别：</span>{{item.risk_types}}</cl-list>\n\t\t\t\t\t\t\t\t<cl-list><span>跟进时间：</span>{{item.follow_date}}</cl-list>\n\t\t\t\t\t\t\t\t<cl-row>\n\t\t\t\t\t\t\t\t\t<cl-col span=\"12\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"fx\">风险等级：{{item.risk_rank}}</view>\n\t\t\t\t\t\t\t\t\t</cl-col>\n\t\t\t\t\t\t\t\t\t<cl-col span=\"12\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"gj\">跟进次数：{{item.follow_times}}</view>\n\t\t\t\t\t\t\t\t\t</cl-col>\n\t\t\t\t\t\t\t\t</cl-row>\n\t\t\t\t\t\t\t</cl-col>\n\n\t\t\t\t\t\t</cl-row>\n\t\t\t\t\t</view>\n\t\t\t\t</cl-scroller>\n\t\t\t</swiper-item>\n\t\t\t<!-- 现场工作照 -->\n\t\t\t<swiper-item class=\"photo\" v-if=\"show_photo\">\n\t\t\t\t<cl-scroller>\n\t\t\t\t\t<view class=\"sign_content\" v-for=\"(item, index) in photo\" :key=\"index\">\n\t\t\t\t\t\t<view class=\"block\">\n\t\t\t\t\t\t\t<cl-image size=\"150rpx\" v-for=\"(site_photo, index_p) in item.site_photos\" :key=\"index_p\" :src=\"site_photo\"\n\t\t\t\t\t\t\t\t:preview-list=\"[site_photo]\">\n\t\t\t\t\t\t\t</cl-image>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"sign_time\">\n\t\t\t\t\t\t\t<cl-list>{{item.remarks}}</cl-list>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</cl-scroller>\n\t\t\t</swiper-item>\n\t\t\t<!-- 签名点评 -->\n\t\t\t<swiper-item  class=\"sign-review\">\n\t\t\t\t<cl-scroller>\n\t\t\t\t\t<!-- 选中[签名点评]时 弹窗 -->\n\t\t\t\t\t<view>\n\t\t\t\t\t\t<u-modal :show=\"signReview_popshow\"\n\t\t\t\t\t\t\t:title=\"signReview_poptitle\" \n\t\t\t\t\t\t\t:content='signReview_popcontent'\n\t\t\t\t\t\t\t@confirm=\"signReview_popshow=false\"\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t></u-modal>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<view class=\"sign_content\">\n\t\t\t\t\t\t<view class=\"sign_title\">现场签到</view>\n\t\t\t\t\t\t<!-- <view class=\"block\">\n\t\t\t\t\t\t\t<cl-image size=\"300rpx\" :src=\"sign_phone\" :preview-list=\"[sign_phone]\">\n\t\t\t\t\t\t\t</cl-image>\n\t\t\t\t\t\t</view> -->\n\t\t\t\t\t\t<view class=\"sign_time\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<cl-list v-if=\"jobtype==1\">签到时间：{{basic.start_date}} &nbsp;{{basic.start_time}}</cl-list>\n\t\t\t\t\t\t\t<cl-list v-else>签到时间：{{basic.start_date}} &nbsp;{{basic.start_time}}</cl-list>\n\t\t\t\t\t\t\t<!-- <cl-list>签到地点：江苏省无锡市滨湖区刘唐路2号</cl-list> -->\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"sign_content\">\n\t\t\t\t\t\t<view class=\"sign_title\">员工签名</view>\n\t\t\t\t\t\t<cl-row>\n\t\t\t\t\t\t\t<cl-col span=\"8\">\n\t\t\t\t\t\t\t\t<view class=\"eblock\">\n\t\t\t\t\t\t\t\t<cl-image size=\"200rpx\" :src=\"autograph_employee01_signature\" :preview-list=\"[autograph_employee01_signature]\">\n\t\t\t\t\t\t\t\t</cl-image>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</cl-col>\n\t\t\t\t\t\t\t<cl-col span=\"8\" v-if=\"autograph_employee02_signature!=''\">\n\t\t\t\t\t\t\t\t<view class=\"eblock\">\n\t\t\t\t\t\t\t\t<cl-image size=\"200rpx\" :src=\"autograph_employee02_signature\" :preview-list=\"[autograph_employee02_signature]\">\n\t\t\t\t\t\t\t\t</cl-image>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</cl-col>\n\t\t\t\t\t\t\t<cl-col span=\"8\" v-if=\"autograph_employee03_signature!=''\">\n\t\t\t\t\t\t\t\t<view class=\"eblock\">\n\t\t\t\t\t\t\t\t<cl-image size=\"200rpx\" :src=\"autograph_employee03_signature\" :preview-list=\"[autograph_employee03_signature]\">\n\t\t\t\t\t\t\t\t</cl-image>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</cl-col>\n\t\t\t\t\t\t</cl-row>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"sign_content\">\n\t\t\t\t\t\t<view class=\"sign_title\">客户签名<span style=\"font-size: 12px;color: #999999;\"></span></view>\n\t\t\t\t\t\t<cl-row>\n\t\t\t\t\t\t\t<cl-col span=\"16\">\n\t\t\t\t\t\t\t\t<view class=\"eblock\">\n\t\t\t\t\t\t\t\t<cl-image size=\"300rpx\" :style=\"autograph_customer_style\" :src=\"autograph_customer_signature\">\n\t\t\t\t\t\t\t\t</cl-image> \n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<!-- <Signature ref=\"sig\" v-model=\"autograph_customer_signature\"></Signature> -->\n\t\t\t\t\t\t\t</cl-col>\n\t\t\t\t\t\t\t<cl-col span=\"8\" class=\"sign_qm\">\n\t\t\t\t\t\t\t\t<!-- <cl-button @tap=\"startSign\">签名</cl-button> -->\n\t\t\t\t\t\t\t\t<cl-button @tap=\"startSign_s\">签名</cl-button>\n\t\t\t\t\t\t\t</cl-col>\n\t\t\t\t\t\t</cl-row>\n\t\t\t\t\t\t<!-- 增加客户签名栏位 -->\n\t\t\t\t\t\t<cl-row>\n\t\t\t\t\t\t\t<cl-col span=\"16\">\n\t\t\t\t\t\t\t\t<view class=\"eblock\">\n\t\t\t\t\t\t\t\t<cl-image size=\"300rpx\" :style=\"autograph_customer_style_add\" :src=\"autograph_customer_signature_add\">\n\t\t\t\t\t\t\t\t</cl-image> \n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</cl-col>\n\t\t\t\t\t\t\t<cl-col span=\"8\" class=\"sign_qm\">\n\t\t\t\t\t\t\t\t<cl-button @tap=\"startSign_sadd\">附加签名</cl-button>\n\t\t\t\t\t\t\t</cl-col>\n\t\t\t\t\t\t</cl-row>\n\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"sign_content\">\n\t\t\t\t\t\t<view class=\"sign_title\">客户点评</view>\n\t\t\t\t\t\t<cl-rate :max=\"3\" :value=\"0\" v-model=\"autograph_customer_grade\" color=\"#ffc800\" void-color=\"#dadada\" disabled=\"true\"></cl-rate>\n\t\t\t\t\t</view>\n\t\t\t\t</cl-scroller>\n\t\t\t</swiper-item>\n\t\t</swiper>\n\n\t\t<!-- 点评弹窗  -->\n\t\t<u-modal\n\t\t\tposition=\"center\"\n\t\t\t:show=\"startSign_sData.show\"\n\t\t\t@leave=\"startSign_sData.show=false\"\n\t\t\t@click-overlay=\"startSign_sData.show=false\"\n\t\t\t@confirm=\"submitStartSign_sDialog\"\n\t\t\twidth=\"100%\"\n\t\t\t:z-index=\"9999\"\n\t\t>\n\t\t\t<view class=\"review_popup\">\n\t\t\t\t<view class=\"review_popup_title\">请点评</view>\n\t\t\t\t\n\t\t\t\t<view class=\"review_popup_box\" :key=\"i\" v-for=\"(itemx, i) in questionsData\">\n\t\t\t\t\t<view class=\"review_popup_box_title\">{{ i+1 }}. {{itemx.question}}</view>\n\t\t\t\t\t<view class=\"review_popup_box_entitle\">　　{{itemx.en_question}}</view>\n\t\t\t\t\t<radio-group @change=\"radioChange($event,i)\">\n\t\t\t\t\t\t<label class=\"uni-list-cell uni-list-cell-pd\" v-for=\"(item, index) in itemx.options\" :key=\"item.v\">\n\t\t\t\t\t\t\t<radio :value=\"item.v\" :checked=\"item.v === itemx.answer\" />{{item.t}}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</radio-group>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t</view>\n\t\t</u-modal>\n\t</view>\n</template>\n<script>\n\timport tTable from '@/components/t-table/t-table.vue';\n\timport tTh from '@/components/t-table/t-th.vue';\n\timport tTr from '@/components/t-table/t-tr.vue';\n\timport tTd from '@/components/t-table/t-td.vue';\n\timport Signature from '@/components/sin-signature/sin-signature.vue';\n\timport luPopupWrapper from \"@/components/lu-popup-wrapper/lu-popup-wrapper.vue\";\n\texport default {\n\t\tcomponents: {\n\t\t\ttTable,\n\t\t\ttTh,\n\t\t\ttTr,\n\t\t\ttTd,\n\t\t\tSignature,\n\t\t\tluPopupWrapper,\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tname:'服务详情',\n\t\t\t\tnoClick:true,\n\t\t\t\t// 当前选中tab索引\n\t\t\t\tcurrent_tab: 0,\n\t\t\t\t// 当前滚动条距离左边的位置\n\t\t\t\tscroll_left: 0,\n\t\t\t\t// 当前滚动条滚动到id位置\n\t\t\t\tscroll_into: '',\n\t\t\t\t// 屏幕宽度\n\t\t\t\tscreen_width: 0,\n\t\t\t\ttab_bar: [{\n\t\t\t\t\t\tid: 'basic',\n\t\t\t\t\t\ttit: '基础信息'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'briefing',\n\t\t\t\t\t\ttit: '服务简报'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'material',\n\t\t\t\t\t\ttit: '物料使用'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'equipment',\n\t\t\t\t\t\ttit: '设备情况'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'risk',\n\t\t\t\t\t\ttit: '风险跟进'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'photo',\n\t\t\t\t\t\ttit: '现场工作照'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'autograph',\n\t\t\t\t\t\ttit: '签名点评'\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\n\t\t\t\t//评论弹窗\n\t\t\t\ttype: \"bottom\", // left right top bottom center\n\t\t\t\ttransition: \"bottom\", //none slider fade\n\t\t\t\tbackgroundColor: '#FFF',\n\t\t\t\tactive: false,\n\t\t\t\theight: \"100%\",\n\t\t\t\twidth: \"100%\",\n\t\t\t\tpopupId: 1,\n\t\t\t\tmaskShow: true,\n\t\t\t\tmaskClick: true,\n\t\t\t\tjobid: '',\n\t\t\t\tjobtype: '',\n\t\t\t\tshortcut_type: '',\n\t\t\t\tservice_type: '',\n\t\t\t\tbasic: [],\n\t\t\t\tbriefing: [],\n\t\t\t\tmaterial: [],\n\t\t\t\tequipment:[],\t// add\n\t\t\t\trisk: [],\n\t\t\t\tphoto: [],\n\t\t\t\tautograph_employee01_signature:'',\n\t\t\t\tautograph_employee02_signature:'',\n\t\t\t\tautograph_employee03_signature:'',\n\t\t\t\tautograph_customer_signature:'',\n\t\t\t\tautograph_customer_signature_add:'',\n\t\t\t\tautograph_customer_style_add:'',\n\t\t\t\tautograph_customer_grade:0,\n\t\t\t\tshow_briefing:false,\n\t\t\t\tshow_equipment:false,\n\t\t\t\tshow_material:false,\n\t\t\t\tshow_photo:false,\n\t\t\t\tshow_risk:false,\n\t\t\t\tStaff01:'',\n\t\t\t\t// 图片旋转 flag\n\t\t\t\tconversion_flag:1,\n\t\t\t\tis_base64:0,\n\t\t\t\t\n\t\t\t\t// 图片旋转样式 如果是1就不需要旋转，如果是0就需要进行旋转处理\n\t\t\t\tautograph_customer_style:'',\n\t\t\t\tct:0,\n\t\t\t\t\n\t\t\t\t//签名点评\n\t\t\t\tsignReview_popshow: true,\n\t\t\t\tsignReview_poptitle: '',\n\t\t\t\tsignReview_popcontent:\"请向负责人汇报本次服务情况,\\r\\n如有风险问题请重点汇报!\",\n\t\t\t\t/* 点评问题 */\n\t\t\t\tquestion_type:'questions',\n\t\t\t\tstartSign_sData: {\n\t\t\t\t\tshow: false,\n\t\t\t\t\tquestions: []\n\t\t\t\t},\n\t\t\t\tquestionsData:[],\t// 问题列表\n\t\t\t\tradioData:[{t: '是　Yes', v: 1}, {t: '否　No', v: 0}],\t// 是、否\n\t\t\t\tisShowAdd:false,\n\t\t\t}\n\t\t},\n\t\tonLoad(index) {\n\t\t\tuni.$on('startSign_s', this.onStartSign_s)// 监听签名保存\n\t\t\tuni.$on('startSign_sadd', this.onStartSign_sadd)// 监听附加签名\n\n\t\t\tvar loginRes = this.checkLogin();\n\t\t\tif (!loginRes) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"请先登录\",\n\t\t\t\t\ticon: 'none',\n\t\t\t\t});\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\treturn false\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t\tthis.jobid = index.jobid\n\t\t\tthis.jobtype = index.jobtype\n\t\t\tthis.ct = uni.getStorageSync('ct')\n\t\t\tthis.shortcut_type = index.shortcut_type\n\t\t\tthis.service_type = index.service_type\n\t\t\tthis.Staff01 = uni.getStorageSync('staffname')\n\t\t\t// 首次获取屏幕宽度\n\t\t\tuni.getSystemInfo({\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.screen_width = res.screenWidth\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t\n\t\t},\n\t\tonShow: function () {\n\t\t\t\n\t\t\tvar that = this;\n\t\t\tvar pages = getCurrentPages();\n\t\t\tvar currPage = pages[pages.length - 1]; //当前页面\n\t\t\tlet datas = currPage.data.customer_signature;\n\t\t\tthis.autograph_customer_signature = currPage.data.customer_signature;\n\t\t\tthis.is_base64 = currPage.data.is_base64;\n\t\t\tif(this.conversion_flag == 0 && this.is_base64 == 0 || this.conversion_flag == 1 && this.is_base64 == 0){\n\t\t\t\tthis.autograph_customer_style = '';\n\t\t\t}else{\n\t\t\t\tthis.autograph_customer_style = 'transform: rotate(-90deg)';\n\t\t\t}\n\t\t\t\n\t\t\t// let that = this\n\t\t\t// \tuni.$on('getdata',function(data){\n\t\t\t// \t\tconsole.log('监听到事件来自返回的参数：' , data);\n\t\t\t// \t})\n\t\t\tlet datas_add = currPage.data.customer_signature_add;\n\t\t\tthis.autograph_customer_signature_add = currPage.data.customer_signature_add;\n\t\t\tthis.is_base64 = currPage.data.is_base64;\n\t\t\tif(this.conversion_flag == 0 && this.is_base64 == 0 || this.conversion_flag == 1 && this.is_base64 == 0){\n\t\t\t\tthis.autograph_customer_style = '';\n\t\t\t}else{\n\t\t\t\tthis.autograph_customer_style = 'transform: rotate(-90deg)';\n\t\t\t}\n\t\t\tthis.getBaseinfo()\t\t// 基础信息\n\t\t\t\n\t\t\tthis.show_briefing = true\n\t\t\tthis.show_material = true\n\t\t\tthis.show_equipment = true\n\t\t\tthis.show_risk = true\n\t\t\tthis.show_photo = true\n\t\t},\n\t\t//页面销毁\n\t\tbeforeDestroy() {\n\t\t\tuni.$off('startSign_s', this.onStartSign_s)// 销毁监听签名保存事件\n\t\t\tuni.$off('startSign_sadd', this.onStartSign_sadd)//销毁监听保存附加签名\n\t\t},\n\t\tmethods: {\n\t\t\tradioChange(e,i){\n\t\t\t\tconsole.log(e.detail.value)\n\t\t\t\tconsole.log(i)\n\t\t\t\tthis.questionsData[i].answer = e.detail.value\n\t\t\t},\n\t\t\tgoMaterial(e){\n\t\t\t\tconsole.log(e)\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl:'/pages/report/material?id='+e,\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 点击tabbar事件\n\t\t\tchange_tab(e) {\n\t\t\t\tlet index = e.target.dataset.current || e.currentTarget.dataset.current;\n\t\t\t\tthis.run_tab(index)\n\t\t\t},\n\t\t\t// swiper滑动事件\n\t\t\tchange_swiper(e) {\n\t\t\t\tlet index = e.target.current || e.detail.current;\n\t\t\t\tthis.run_tab(index)\n\t\t\t},\n\t\t\t// 执行整个tab事件\n\t\t\trun_tab(index) {\n\t\t\t\t// console.log(index)\n\t\t\t\t\n\t\t\t\tif(index==1){\n\t\t\t\t\tthis.getBriefing()\t\t// 简报\n\t\t\t\t}\n\t\t\t\tif(index==2){\n\t\t\t\t\tthis.getMaterial()\t\t// 物料\n\t\t\t\t}\n\t\t\t\tif(index==3){\n\t\t\t\t\tthis.getEquipment()\t\t// 设备\n\t\t\t\t}\n\t\t\t\tif(index==4){\n\t\t\t\t\tthis.getRisk()\t\t\t// 风险跟进\n\t\t\t\t}\n\t\t\t\tif(index==5){\n\t\t\t\t\tthis.getPhoto()\t\t\t// 现场工作照\n\t\t\t\t}\n\t\t\t\tif(index==6){\n\t\t\t\t\tthis.getItems()\t\t\t// 签名\n\t\t\t\t}\n\t\t\t\t// 记录当前滑动的位置\n\t\t\t\tthis.current_tab = index\n\t\t\t\t// 如果点击了第4个以后的,滚动条向右移动屏幕的宽度\n\t\t\t\tthis.scroll_into = this.tab_bar[index].id\n\t\t\t},\n\t\t\t//风险详情页\n\t\t\trisk_detail(index) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: \"/pages/report/risk_detail?id=\" + index + \"&jobid=\" + this.jobid +\"&jobtype=\"+ this.jobtype\n\t\t\t\t})\n\t\t\t},\n\t\t\tpreviewImg(logourl) {\n\t\t\t\tlet _this = this;\n\t\t\t\tlet imgsArray = [];\n\t\t\t\timgsArray[0] = logourl\n\t\t\t\tuni.previewImage({\n\t\t\t\t\tcurrent: 0,\n\t\t\t\t\turls: imgsArray\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 签名\n\t\t\t// async startSign() {\n\t\t\t// \tlet s = await this.$refs.sig.getSyncSignature();\n\t\t\t// \tthis.autograph_customer_signature = s;\n\t\t\t// \t// console.log('组件版本', this.$refs.sig.VERSION);\n\t\t\t// \tconsole.log('签名数据', s);\n\t\t\t// },\n\t\t\tstartSign_s() {\n\t\t\t\tuni.navigateTo({ \n\t\t\t\t\turl: \"/pages/report/sign?jobid=\" + this.jobid +\"&jobtype=\"+ this.jobtype + \"&is_main=1\"\n\t\t\t\t})\n\n\t\t\t\t//显示点评弹窗\n\t\t\t\tlet timer = setTimeout(() => {\n\t\t\t\t\tthis.startSign_sData.show = true\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t}, 1000);\n\t\t\t\t\n\t\t\t},\n\t\t\tstartSign_sadd() {\n\t\t\t\tuni.navigateTo({ \n\t\t\t\t\turl: \"/pages/report/sign?jobid=\" + this.jobid +\"&jobtype=\"+ this.jobtype + \"&is_main=0\"\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 保存签名时\n\t\t\tonStartSign_s(code) {\n\t\t\t\tif (code === 1) {\n\t\t\t\t\t//提交客户签名与服务评分\n\t\t\t\t\tthis.save_autograph();// 此处是为兼容旧版\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(\"保存签名失败\")\n\t\t\t\t}\n\t\t\t},\n\t\t\t//保存附加签名时\n\t\t\tonStartSign_sadd(code) {\n\t\t\t\tconsole.log('onStartSign_sadd: ' + String(code))\n\t\t\t},\n\t\t\t//评价\n\t\t\tbottom: function() {\n\t\t\t\tthis.width = \"100%\";\n\t\t\t\tthis.height = \"60%\";\n\t\t\t\tthis.transition = \"bottom\";\n\t\t\t\tthis.type = \"bottom\";\n\t\t\t\tthis.show();\n\t\t\t},\n\t\t\tshow: function() {\n\t\t\t\tthis.$refs.luPopupWrapper.show();\n\t\t\t},\n\t\t\tclose: function() {\n\t\t\t\tthis.$refs.luPopupWrapper.close();\n\t\t\t},\n\t\t\tcloseCallback: function() {\n\t\t\t\tconsole.log(\"关闭后回调\");\n\t\t\t},\n\t\t\tadd() {\n\t\t\t\tvar i = this.current_tab\n\t\t\t\tvar url_t = this.tab_bar[i].id\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: \"../service/\" + url_t+\"?jobid=\" + this.jobid+'&jobtype='+this.jobtype+'&shortcut_type='+url_t+'&service_type='+this.service_type,\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t},\n\t\t\t\t\tfail(err) {\n\t\t\t\t\t\t// errMsg: \"navigateTo:fail page \"pages/index/pages/test/test\" is not found\"\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetItems(){\n\t\t\t\t\n\t\t\t\t/* 6.签名点评 */ \n\t\t\t\tlet params6 = {\n\t\t\t\t\tjob_id:this.jobid,\n\t\t\t\t\tjob_type:this.jobtype,\n\t\t\t\t}\n\t\t\t\tthis.$api.getSignature(params6).then(res=>{\n\t\t\t\t\t// console.log(res.data)\n\t\t\t\t\t// 员工签名\n\t\t\t\t\tif(res.data.main[0])\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.autograph_employee01_signature = `${this.$baseUrl_imgs}/` + res.data.main[0]\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 客户签名\n\t\t\t\t\tif(res.data.cust.customer_signature_url)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.autograph_customer_signature = `${this.$baseUrl_imgs}/` + res.data.cust.customer_signature_url\n\t\t\t\t\t}\n\t\t\t\t\t// 客户附加签名\n\t\t\t\t\tif(res.data.cust.customer_signature_url_add)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.autograph_customer_signature_add = `${this.$baseUrl_imgs}/` + res.data.cust.customer_signature_url_add\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 客户点评\n\t\t\t\t\tthis.autograph_customer_grade = res.data.evaluates.score\n\t\t\t\t\t\n\t\t\t\t}).catch(err=>{\n\t\t\t\t\t// console.log(err)\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetBaseinfo(){\n\t\t\t\t\n\t\t\t\tlet param = {\n\t\t\t\t\tjob_id:this.jobid,\n\t\t\t\t\tjob_type:this.jobtype\n\t\t\t\t}\n\t\t\t\tuni.request({\n\t\t\t\t\turl: `${this.$baseUrl}/Report.Report/baseInfo`,\n\t\t\t\t\theader: {\n\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t\t'token': uni.getStorageSync('token')\n\t\t\t\t\t},\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tdata: param,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.data.code == 200) {\n\t\t\t\t\t\t\tif (res.data.data) {\n\t\t\t\t\t\t\t\tthis.basic = res.data.data\n\t\t\t\t\t\t\t\tif(res.data.data.staff.main == this.Staff01)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.isShowAdd = true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// console.log(res.data)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// 点评列表\n\t\t\t\t\t\t\tlet questionsData = res.data.data.questionnaire\n\t\t\t\t\t\t\tquestionsData.forEach((item,i)=>{\n\t\t\t\t\t\t\t\titem.answer = ''\n\t\t\t\t\t\t\t\titem.options = this.radioData\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.questionsData = questionsData\n\t\t\t\t\t\t\t// this.startSign_sData.questions = questionsData\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(res.data.code == 400)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tuni.$utils.toast(res.data.msg)\n\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 1.服务简报\n\t\t\tgetBriefing(){\n\t\t\t\tlet param = {\n\t\t\t\t\tjob_id:this.jobid,\n\t\t\t\t\tjob_type:this.jobtype\n\t\t\t\t}\n\t\t\t\tuni.request({\n\t\t\t\t\turl: `${this.$baseUrl}/Report.Report/getBriefingsInfo`,\n\t\t\t\t\theader: {\n\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t\t'token': uni.getStorageSync('token')\n\t\t\t\t\t},\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tdata: param,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.data.code == 200) {\n\t\t\t\t\t\t\t// if (res.data.data) {\n\t\t\t\t\t\t\t\tthis.briefing = res.data.data\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 2.物料使用\n\t\t\tgetMaterial(){\n\t\t\t\tlet param = {\n\t\t\t\t\tjob_id:this.jobid,\n\t\t\t\t\tjob_type:this.jobtype\n\t\t\t\t}\n\t\t\t\tuni.request({\n\t\t\t\t\turl: `${this.$baseUrl}/Report.Report/getMaterialsInfo`,\n\t\t\t\t\theader: {\n\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t\t'token': uni.getStorageSync('token')\n\t\t\t\t\t},\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tdata: param,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.data.code == 200) {\n\t\t\t\t\t\t\t// if (res.data.data) {\n\t\t\t\t\t\t\t\tthis.material = res.data.data.data\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t// console.log(res.data)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 3.设备情况\n\t\t\tgetEquipment(){\n\t\t\t\tlet param = {\n\t\t\t\t\tjob_id:this.jobid,\n\t\t\t\t\tjob_type:this.jobtype\n\t\t\t\t}\n\t\t\t\tuni.request({\n\t\t\t\t\turl: `${this.$baseUrl}/Report.Report/getEqInfo`,\n\t\t\t\t\theader: {\n\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t\t'token': uni.getStorageSync('token')\n\t\t\t\t\t},\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tdata: param,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.data.code == 200) {\n\t\t\t\t\t\t\t// if (res.data.data) {\n\t\t\t\t\t\t\t\tthis.equipment = res.data.data\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t// console.log(res.data)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 4.风险跟进\n\t\t\tgetRisk(){\n\t\t\t\tlet param = {\n\t\t\t\t\tjob_id:this.jobid,\n\t\t\t\t\tjob_type:this.jobtype,\n\t\t\t\t\tlimit:100,\n\t\t\t\t\tpage:1\n\t\t\t\t}\n\t\t\t\tuni.request({\n\t\t\t\t\turl: `${this.$baseUrl}/Report.Report/getRisksInfo`,\n\t\t\t\t\theader: {\n\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t\t'token': uni.getStorageSync('token')\n\t\t\t\t\t},\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tdata: param,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.data.code == 200) {\n\t\t\t\t\t\t\t// if (res.data.data) {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tlet list = res.data.data.data\n\t\t\t\t\t\t\t\tlist.forEach((item,i)=>{\n\t\t\t\t\t\t\t\t\tlet photoArr = item.site_photos.split(\",\")\n\t\t\t\t\t\t\t\t\titem.img = `${this.$baseUrl_imgs}/` + photoArr[0]\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tthis.risk = list\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t// console.log(res.data.data.data)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 5.现场工作照\n\t\t\tgetPhoto(){\n\t\t\t\tlet param = {\n\t\t\t\t\tjob_id:this.jobid,\n\t\t\t\t\tjob_type:this.jobtype,\n\t\t\t\t\tlimit:100,\n\t\t\t\t\tpage:1\n\t\t\t\t}\n\t\t\t\tuni.request({\n\t\t\t\t\turl: `${this.$baseUrl}/Report.Report/getSiteWorkPhotosInfo`,\n\t\t\t\t\theader: {\n\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t\t'token': uni.getStorageSync('token')\n\t\t\t\t\t},\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tdata: param,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.data.code == 200) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tlet list = res.data.data.data\n\t\t\t\t\t\t\tlist.forEach((item,i)=>{\n\t\t\t\t\t\t\t\t// console.log(item.site_photos)\n\t\t\t\t\t\t\t\t// 处理图片地址\n\t\t\t\t\t\t\t\titem.site_photos.forEach((itemx,index)=>{\n\t\t\t\t\t\t\t\t\titem.site_photos[index] = `${this.$baseUrl_imgs}/` + itemx\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.photo = list\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//保存客户点评星级、客户签名\n\t\t\tsave_autograph(){\n\t\t\t\treturn false\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: \"保存中...\"\n\t\t\t\t});\n\t\t\t\tlet param = {\n\t\t\t\t\tstaffid: uni.getStorageSync('staffid'),\n\t\t\t\t\tjob_id: this.jobid,\n\t\t\t\t\tjob_type: this.jobtype,\n\t\t\t\t\temployee01_signature:this.autograph_employee01_signature,\n\t\t\t\t\temployee02_signature:this.autograph_employee02_signature,\n\t\t\t\t\temployee03_signature:this.autograph_employee03_signature,\n\t\t\t\t\tcustomer_signature:this.autograph_customer_signature,\n\t\t\t\t\t// customer_grade:this.autograph_customer_grade //现流程中，这里不是最新数据,点评后才是最新数据，因此点评后后台会再次更新评分数据😑\n\t\t\t\t}\n\t\t\t\tuni.request({\n\t\t\t\t\turl: `${this.$baseUrl}/saveautograph`,\n\t\t\t\t\theader: {\n\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t\t'token': uni.getStorageSync('token')\n\t\t\t\t\t},\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: param,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tif (res.data.code == 1) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '签名提交成功！',\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t});\n\t\t\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tdownload() {\n\t\t\t\t\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: \"数据加载中...\"\n\t\t\t\t});\n\t\t\t\tlet param = {\n\t\t\t\t\t// staffid: uni.getStorageSync('staffid'),\n\t\t\t\t\tjob_id: this.jobid,\n\t\t\t\t\tjob_type: this.jobtype,\n\t\t\t\t}\n\t\t\t\tuni.request({\n\t\t\t\t\turl: `${this.$baseUrl}/Preview.Preview/getHtmlContent`,\n\t\t\t\t\theader: {\n\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t\t'token': uni.getStorageSync('token')\n\t\t\t\t\t},\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tdata: param,\n\t\t\t\t\tresponseType: \"arraybuffer\", //注意这里的responseType\n\t\t\t\t\tsuccess: (result) => {\n\t\t\t\t\t\tvar fileManager = uni.getFileSystemManager();\n\t\t\t\t\t\t// var FilePath = `${wx.env.USER_DATA_PATH}/${this.basic.CustomerName}-${this.jobid}-${this.basic.JobDate}.pdf`;\n\t\t\t\t\t\tvar FilePath = `${wx.env.USER_DATA_PATH}/${this.basic.customer.name_zh}-${this.jobid}-${this.basic.job_date}.pdf`;\n\t\t\t\t\t\tfileManager.writeFile({\n\t\t\t\t\t\t\tfilePath: FilePath,\n\t\t\t\t\t\t\tdata: result.data,\n\t\t\t\t\t\t\tencoding: \"binary\", //编码方式 \n\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\tconsole.log('编码格式');\n\t\t\t          uni.openDocument({ //我这里成功之后直接打开\n\t\t\t\t\t\t\t\t\tfilePath: FilePath,\n\t\t\t\t\t\t\t\t\tshowMenu: true,\n\t\t\t\t\t\t\t\t\tfileType: \"pdf\",\n\t\t\t\t\t\t\t\t\tsuccess: result => {\n\t\t\t              //隐藏加载状态\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"打开文档成功\");\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfail: err => {\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"打开文档失败\", err);\n\t\t\t              //隐藏加载状态\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '打开文档失败',\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: res => {\n\t\t\t\t\t\t\t\t//隐藏加载状态\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '文档已下载!',\n\t\t\t\t\t\t\t\t\ticon: 'none', //默认值是success,就算没有icon这个值，就算有其他值最终也显示success\n\t\t\t\t\t\t\t\t\tduration: 2000, //停留时间\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tfail(err) {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 提交客户点评\n\t\t\tsubmitStartSign_sDialog() {\n\t\t\t\tlet that = this\n\t\t\t\tvar sorce = 0;\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t// for (let i in this.questionsData) {\n\t\t\t\t// \tif(this.questionsData[i]['answer']!==0 && this.questionsData[i]['answer']!==1){\n\t\t\t\t// \t\tuni.showToast({title: '请完成点评',icon: 'none',})\n\t\t\t\t// \t\treturn false\n\t\t\t\t// \t}else if(this.questionsData[i]['answer'] == 1){\n\t\t\t\t// \t\tsorce++;//服务评分 此处是为兼容旧版\n\t\t\t\t// \t}\n\t\t\t\t// }\r\n\t\t\t\tconsole.log('this.questionsDatathis.questionsData',this.questionsData)\r\n\t\t\t\tlet shouldContinue = true;  \r\n\t\t\t\tthis.questionsData.forEach((item,i)=>{\r\n\t\t\t\t\tif(item.answer == ''){\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '请为本次的服务进行评价！',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tshouldContinue = false;\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\n\t\t\t\t\tif(item.answer ==1 ){\n\t\t\t\t\t\tsorce++;\n\t\t\t\t\t}\n\t\t\t\t})\r\n\t\t\t\tif(shouldContinue ==false){\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\n\t\t\t\tlet qe = []\n\t\t\t\tthis.questionsData.forEach((item,i)=>{\n\t\t\t\t\tqe.push({\"id\":item.id,\"question_score\":item.question_score,\"type\":\"radio\",\"status\":item.status,\"answer\":item.answer})\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tlet param = {\n\t\t\t\t\t\n\t\t\t\t\tcustomer_id:this.basic.customer_id,\n\t\t\t\t\tjob_id:this.jobid,\n\t\t\t\t\tjob_type:this.jobtype,\n\t\t\t\t\tquestion:JSON.stringify(qe), //JSON.stringify(that.questionsData),\n\t\t\t\t\t// staff_id:3306\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//关闭弹窗\n\t\t\t\tthis.startSign_sData.show = false\n\n\t\t\t\t// 提交点评到后台\n\t\t\t\tuni.request({\n\t\t\t\t\turl: `${that.$baseUrl}/Report.Report/saveEvaluates`,\n\t\t\t\t\theader: {\n\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t\t'token': uni.getStorageSync('token')\n\t\t\t\t\t},\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: param,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tlet msg = '已提交点评，感谢您的反馈！'\n\t\t\t\t\t\tif(res.data.code == 200){\n\t\t\t\t\t\t\tthat.autograph_customer_grade = sorce;//服务评分 此处是为兼容旧版\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: msg || res.data.msg,\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.new_card {\n\t\tbackground-color: #fff;\n\t\tborder-radius: 10px;\n\t\tpadding-bottom: 10px;\n\t}\n\n\t.new_card_title {\n\t\tborder-bottom: 1px solid #e0dcdc;\n\t\tfont-size: 18px;\n\t\tfont-weight: bold;\n\t\tpadding: 10px;\n\t\theight: 30px;\n\t}\n\n\t.xh {\n\t\tcolor: #007AFF;\n\t\tfont-weight: bold;\n\t\tfont-size: 20px;\n\t\tmargin-right: 5px;\n\t}\n\n\t.new_card_title_left {\n\t\tfloat: left;\n\t}\n\n\t.new_card_title_right {\n\t\tfont-size: 20px;\n\t\tcolor: #d0cece;\n\t\tfloat: right;\n\n\t}\n\n\t.new_card_content {\n\t\tmargin: 10px;\n\t\tfont-size: 15px;\n\t}\n\n\t.new_card_content span {\n\t\tcolor: #5e6165;\n\t}\n\n\t.sign_content {\n\t\tborder-bottom: 1px solid #eeeeee;\n\t\tpadding: 10px;\n\t}\n\n\t.sign_title {\n\t\ttext-align: left;\n\t\tfont-size: 18px;\n\t\tpadding: 0px 15px 10px 15px;\n\t\tcolor: #504f4f;\n\t}\n\t.sign_time {\n\t\ttext-align: left;\n\t\tfont-size: 13px;\n\t\tbackground-color: #f7f7f7;\n\t\tborder-radius: 10px;\n\t\tpadding: 10px;\n\t\tmargin: 10px;\n\t}\n\n\t.sign_qm {\n\t\t/*flex 布局*/\n\t\tdisplay: flex;\n\t\t/*实现垂直居中*/\n\t\talign-items: center;\n\t\t/*实现水平居中*/\n\t\tjustify-content: center;\n\t}\n\n\t.block {\n\t\tdisplay: flow-root;\n\t}\n\n\t.block cl-image {\n\t\twidth: 22%;\n\t\tfloat: left;\n\t\tmargin: 5px;\n\t}\n\n\t.tab-h {\n\t\theight: 80rpx;\n\t\twidth: 100%;\n\t\tline-height: 80rpx;\n\t\tbackground: #f7f7f7;\n\t\tfont-size: 18px;\n\t\twhite-space: nowrap;\n\n\t}\n\n\t.tab-item {\n\t\tpadding: 0 36rpx;\n\t\tdisplay: inline-block;\n\t}\n\n\t.tab-bar-active {\n\t\tfont-weight: bold;\n\t\tcolor: #007aff;\n\t}\n\n\t.hr {\n\t\theight: 1rpx;\n\t\tbackground-color: #FFFFFF;\n\t}\n\n\t.swiper {\n\t\theight: 1300rpx;\n\t\ttext-align: center;\n\n\t}\n\n\t.swiper-item {\n\t\theight: 1300rpx;\n\t\tline-height: 500rpx;\n\t}\n\n\t.service_title {\n\t\ttext-align: left;\n\t\tfont-size: 18px;\n\t\tpadding: 10px 15px;\n\t\tcolor: #504f4f;\n\t}\n\n\t.service_content {\n\t\tfont-size: 16px;\n\t\tbackground-color: #eeeeee;\n\t\t/* height: 30px; */\n\t\tpadding: 10px;\n\t\ttext-align: center;\n\t\tmargin: 0 10px;\n\t\tborder-radius: 5px;\n\t\t/*flex 布局*/\n\t\tdisplay: flex;\n\t\t/*实现垂直居中*/\n\t\talign-items: center;\n\t\t/*实现水平居中*/\n\t\tjustify-content: center;\n\t}\n\n\t.material_title {\n\t\ttext-align: left;\n\t\tfont-size: 17px;\n\t\tpadding: 10px 15px;\n\t\tpadding: 10px 15px;\n\t\tcolor: #b91306;\n\t}\n\n\t.risk {\n\t\tbackground-color: #FFFFFF;\n\t\tfont-size: 15px;\n\t\t/* height: 120px; */\n\t\tpadding: 10px 0px 0px 0px;\n\t\tborder-bottom: 1px solid #eeeeee;\n\t}\n\n\t.risk cl-list {\n\t\tline-height: 16px;\n\t}\n\n\t.risk img {\n\t\theight: 100px;\n\t\twidth: 130px;\n\t\tborder-radius: 10px;\n\t}\n\n\t.risk span {\n\t\tfont-weight: bold;\n\t\tcolor: #b91306;\n\t}\n\n\t.fx {\n\t\tmargin-bottom: 5px;\n\t\twidth: 90px;\n\t\theight: 22px;\n\t\tfont-size: 14px;\n\t\tborder-radius: 5px;\n\t\ttext-align: center;\n\t\tbackground-color: #EEEEEE;\n\t}\n\t.gj {\n\t\tmargin-bottom: 5px;\n\t\twidth: 90px;\n\t\theight: 22px;\n\t\tfont-size: 12px;\n\t\tborder-radius: 5px;\n\t\ttext-align: center;\n\t\tbackground-color: #EEEEEE;\n\t}\n\t.photo {\n\t\tbackground-color: #FFFFFF;\n\t}\n\n\t.sign-review{\n\t\tbackground-color: #FFFFFF;\n\t}\n\n\t.sign_content {\n\t\tborder-bottom: 1px solid #eeeeee;\n\t\tpadding: 10px;\n\t}\n\n\t.sign_title {\n\t\ttext-align: left;\n\t\tfont-size: 18px;\n\t\tpadding: 0px 15px 10px 15px;\n\t\tcolor: #504f4f;\n\t}\n\n\t.sign_time {\n\t\ttext-align: left;\n\t\tfont-size: 16px;\n\t\tbackground-color: #f7f7f7;\n\t\tborder-radius: 10px;\n\t\tpadding: 10px;\n\t\tmargin: 10px;\n\t}\n\n\t.sign_qm {\n\t\t/*flex 布局*/\n\t\tdisplay: flex;\n\t\t/*实现垂直居中*/\n\t\talign-items: center;\n\t\t/*实现水平居中*/\n\t\tjustify-content: center;\n\t}\n\n\t.page-content {\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tflex-flow: column nowrap;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tbackground-color: #fff;\n\t\tfont-size: 14px;\n\t}\n\n\t.title {\n\t\tflex: none;\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 40px;\n\t\tfont-size: 16px;\n\t\tpadding-left: 20px;\n\t\tdisplay: flex;\n\t\tflex-flow: row nowrap;\n\t\tjustify-content: flex-start;\n\t\talign-items: center;\n\t}\n\n\t.btn-group {\n\t\tflex: 1 1 auto;\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tflex-flow: row wrap;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tbackground-color: #eee;\n\t\tfont-size: 14px;\n\n\t}\n\n\t.btn {\n\t\theight: 40px;\n\t\tdisplay: flex;\n\t\tflex-flow: row nowrap;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tbackground-color: #f9f9f9;\n\t\tborder-radius: 5px;\n\t\tpadding: 0 10px;\n\t\tmargin: 10px;\n\t\toverflow: hidden;\n\t\tbox-shadow: 1px 2px 3px rgba(100, 100, 100, 0.5);\n\t}\n\n\t.mycontent {\n\t\tdisplay: flex;\n\t\tflex-flow: row nowrap;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\toverflow: scroll;\n\t}\n\n\t.add {\n\t\tz-index: 9999;\n\t\tposition: fixed;\n\t\tbottom: 10%;\n\t\tright: 15px\n\t}\n\t.eblock {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tmargin-bottom: 30rpx;\n\t}\n\t.eblock cl-image {\n\t\twidth: -1%;\n\t\tfloat: left;\n\t\tmargin: 5px;\n\t}\n\t.placeholder {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\theight: 100%;\n\t\tbackground-color: #eee;\n\t}\n\t.cl-list-item__label {\n\t\tpadding: 0 20rpx 0 0;\n\t\tfont-size: 32rpx;\n\t}\n\tcl-list-item text{\n\t\tfont-size: 16px;\n\t}\n\t.t-td {\n\t\t-webkit-box-flex: 1;\n\t\t-webkit-flex: 1;\n\t\tflex: 1;\n\t\tdisplay: -webkit-box;\n\t\tdisplay: -webkit-flex;\n\t\tdisplay: flex;\n\t\t-webkit-box-align: center;\n\t\t-webkit-align-items: center;\n\t\talign-items: center;\n\t\twidth: 100%;\n\t\tpadding: 14rpx;\n\t\tborder-top: 1px #d0dee5 solid;\n\t\tborder-left: 1px #d0dee5 solid;\n\t\ttext-align: center;\n\t\tcolor: #555c60;\n\t\tfont-size: 30rpx;\n\t\t/* font-size: 30rpx; */\n\t}\n\t.download {\n\t\tz-index: 9999;\n\t\tposition: fixed;\n\t\tbottom: 10%;\n\t\tright: 15px\n\t}\n\t.review_popup{\n\t\tbox-sizing:border-box;\n\t\tpadding:0 24rpx 24rpx;\n\n\t\t.review_popup_title{\n\t\t\ttext-align:center;\n\t\t\tpadding:24rpx;\n\t\t\tfont-size: 45rpx;\n\t\t}\n\t\t.review_popup_box{\n\t\t\tpadding-inline:40rpx;\n\t\t\tmargin-bottom:24rpx;\n\n\t\t\t.review_popup_box_title{\n\n\t\t\t}\n\t\t\t.review_popup_box_entitle{\n\t\t\t\tfont-size: 35rpx;\n\t\t\t\tcolor: #201f1f;\n\t\t\t\ttext-indent: 1rem;\n\t\t\t}\n\t\t\t.review_popup_box_radio{\n\t\t\t\tmargin-top:20rpx;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\twidth: 100%;\n\n\t\t\t\t> view{\n\t\t\t\t\twidth: 45%;\n\t\t\t\t\tfloat: left;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.review_popup_button{\n\t\t\tpadding-top:24rpx;\n\n\t\t\t.cl-button{\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 70rpx;\n\t\t\t}\n\t\t}\n\t}\n\t.u-modal__content__text{\n\t\tfont-size: 17px !important;\n\t\tline-height: 27px;\n\t}\n.u-modal__content{ padding-left: 0; padding-right: 0; }\n</style>\n","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1708304326717\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}