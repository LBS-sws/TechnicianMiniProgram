{"version":3,"sources":["uni-app:///main.js","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/sign/search.vue?2e93","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/sign/search.vue?71da","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/sign/search.vue?d956","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/sign/search.vue?fe2d","uni-app:///pages/sign/search.vue","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/sign/search.vue?0a27","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/sign/search.vue?a5b0"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","keyword","loading","noResult","list","longitude","latitude","changeEvent","onLoad","methods","handleChange","handleSearch","handleSelect","uni","mapSearch","then","catch"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAioB,CAAgB,gnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACqCrpB;AACA;AACA;AAAA;AAAA;AAAA,eACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IAAA;MAAAF;IACA;IACA;EACA;EACAG,yCACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;MACAC;IACA;IACAC;MAAA;MACA;MACA;MACA;MACA;MACA;QACAT;QACAC;MACA,GACAS;QACA;QACA;QACA;UACA;QACA;MACA,GACAC;QACA;QACA;MACA;IACA;EAAA;AAEA;AAAA,2B;;;;;;;;;;;;;AC7FA;AAAA;AAAA;AAAA;AAA4tC,CAAgB,unCAAG,EAAC,C;;;;;;;;;;;ACAhvC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/sign/search.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/sign/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=94f1855e&scoped=true&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&id=94f1855e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"94f1855e\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/sign/search.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=template&id=94f1855e&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"search\">\n    <view class=\"top-search\">\n      <van-search :value=\"keyword\"\n        shape=\"round\"\n\t\t\t\tfocus\n        placeholder=\"关键词搜索\"\n        @change=\"changeEvent\"\n        @search=\"handleSearch\">\n      </van-search>\n    </view>\n    <scroll-view class=\"search-list\"\n      scroll-y>\n      <view class=\"list-item van-hairline--bottom\"\n        v-for=\"(item) in list\"\n        :key=\"item.id\"\n        @tap=\"handleSelect(item)\">\n        <view class=\"info\">\n          <view class=\"title ellipsis\">{{ item.title }}</view>\n          <view class=\"address ellipsis\">{{ item.address }}</view>\n        </view>\n      </view>\n      <view v-if=\"loading\"\n        class=\"loading\">\n        <van-loading size=\"32rpx\">\n          <text class=\"loading-text\">加载中...</text>\n        </van-loading>\n      </view>\n      <view v-if=\"noResult\"\n        class=\"no-result\">\n        您搜索的地点不存在或者超出了范围\n      </view>\n    </scroll-view>\n  </view>\n</template>\n\n<script>\nimport debounce from 'lodash/debounce'\nimport { mapSearch } from '@/utils'\nimport { mapMutations } from 'vuex'\nexport default {\n  data () {\n    return {\n      keyword: '',\n      loading: false,\n      noResult: false,\n      list: [],\n      longitude: '',\n      latitude: '',\n      changeEvent: debounce(this.handleChange, 500)\n    }\n  },\n  onLoad ({ longitude, latitude }) {\n    this.longitude = longitude\n    this.latitude = latitude\n  },\n  methods: {\n    ...mapMutations(['SET_SELECTED_LOCATION','SET_SELECTED_SEARCH']),\n    handleChange (e) {\n      this.keyword = e.detail\n      this.mapSearch()\n    },\n    handleSearch (e) {\n      this.keyword = e.detail\n      this.mapSearch()\n    },\n    handleSelect (item) {\n      this.SET_SELECTED_SEARCH(item)\n      this.SET_SELECTED_LOCATION(null)\n      uni.navigateBack()\n    },\n    mapSearch () {\n      if (!this.keyword) return\n      this.list = []\n      this.noResult = false\n      this.loading = true\n      mapSearch(this.keyword, {\n        longitude: this.longitude,\n        latitude: this.latitude,\n      })\n        .then(res => {\n          this.list = res.data\n          this.loading = false\n          if (!this.list.length) {\n            this.noResult = true\n          }\n        })\n        .catch(() => {\n          this.noResult = false\n          this.loading = false\n        })\n    }\n  }\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n.search {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  .top-search {\n    box-shadow: 0px 1px 10px 1px rgba(153, 153, 153, 0.34);\n  }\n  .search-list {\n    overflow: auto;\n    position: relative;\n    flex: 1;\n    .list-item {\n      padding: 30rpx;\n      .title,\n      .address {\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n      }\n      .title {\n        font-size: 28rpx;\n        line-height: 40rpx;\n      }\n      .address {\n        font-size: 24rpx;\n        height: 34rpx;\n        color: $uni-text-color-grey;\n      }\n    }\n  }\n  .loading {\n    text-align: center;\n    margin-top: 30rpx;\n  }\n  .no-result {\n    width: 100%;\n    text-align: center;\n    font-size: 24rpx;\n    color: $uni-text-color-grey;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  }\n}\n</style>\n","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&id=94f1855e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&id=94f1855e&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1708218267663\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}