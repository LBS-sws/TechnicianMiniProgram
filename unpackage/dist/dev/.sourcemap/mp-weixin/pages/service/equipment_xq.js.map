{"version":3,"sources":["uni-app:///main.js","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/service/equipment_xq.vue?6bdf","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/service/equipment_xq.vue?2aeb","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/service/equipment_xq.vue?e92f","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/service/equipment_xq.vue?024b","uni-app:///pages/service/equipment_xq.vue","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/service/equipment_xq.vue?ea7b","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/service/equipment_xq.vue?00ab"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","fjjImages","ldSelect","data","use_areas","shortcuts","jobid","jobtype","shortcut_type","service_type","id","typeid","equipment_name","equipment_area","site_photos","check_datas","check_handle","check_handles","more_info","end_site_photos","start_site_photos","upload_site_photos","search_key","timer","len","onLoad","uni","title","icon","setTimeout","methods","inputFun","console","clearTimer","clearTimeout","selectChange","data_select","staffid","city","job_id","job_type","url","header","method","success","replace","site_po","fail","getshortcuts","editParkImg","deleteImg","del","getimgList","save","imgs","filePath","name","content","showCancel"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,qBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACa;;;AAGxE;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,uPAEN;AACP,KAAK;AACL;AACA,aAAa,yQAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,yTAEN;AACP,KAAK;AACL;AACA,aAAa,qRAEN;AACP,KAAK;AACL;AACA,aAAa,8LAEN;AACP,KAAK;AACL;AACA,aAAa,qRAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/DA;AAAA;AAAA;AAAA;AAAuoB,CAAgB,snBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;eC6E3pB;EACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;MACAC;QACAC;QACAC;MACA;MACAC;QACA;MACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EACAC;IACAC;MAAA;MACAC;MACA;MACA;MACA;QACA;QACA;UACAA;UACA;QACA;MACA;QACA;UACAA;UACA;QACA;QACA;UACA;UACA;QACA;MACA;IACA;IACAC;MACA;QACAC;MACA;IACA;IAEAC;MACA;IACA;IACAC;MAAA;MACA;QACAC;QACAC;QACA5B;QACA6B;QACAC;MACA;MACAd;QACAe;QACAC;UACA;UACA;QACA;QACAC;QACAxC;QACAyC;UACA;YACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;gBACA;cACA;gBACA;cACA;;cAEA;cACA;cACA;cACA;gBACA;gBACA;kBACA,uDACAC,iBACA;kBACA,0DACAC;gBAEA;gBACA;cACA;YAEA;UACA;YACApB;cACAC;cACAC;YACA;YACAC;cACAH;gBACAe;cACA;YACA;UACA;QACA;QACAM;UACAf;QACA;MACA;IACA;IACAgB;MAAA;MACA;MACA;MACA;MACA;MACA;QACAX;QACAC;QACA9B;QACAC;QACAa;MACA;MACAI;QACAe;QACAC;UACA;UACA;QACA;QACAC;QACAxC;QACAyC;UACA;YACA;UACA;YACAlB;cACAC;YACA;UACA;QAEA;QACAoB;UACAf;QACA;MACA;IACA;IACAiB;IACAC;MACA;MACA;MACA;QACA,wCACAL;QACAM;QACA,uCACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MACA;MACA;QACA3B;UACAC;UACAC;QACA;QACA;MACA;QACAF;UACAC;UACAC;QACA;QACA;MACA;QACAF;UACAC;QACA;QACA;QACA;UACA;UACA;YACA;cACA;gBAAA;gBACA2B;cACA;YACA;UACA;QACA;QACA;QACA;UACA;QACA;QACA;UACA5B;YACAe;YAAA;YACAc;YAAA;YACAC;YAAA;YACAd;cACA;cACA;YACA;YACAE;cACA;cACA;gBACA;gBACA;kBACA;gBACA;kBACA;gBACA;cACA;gBACAlB;kBACAC;kBACAC;gBACA;cACA;YAGA;YACAmB;cACAf;cACAN;gBACA+B;gBACAC;cACA;YACA;UACA;QAEA;QACA7B;UACA;UACA;YACAQ;YACA3B;YACA6B;YACAC;YACA5B;YACAC;YACAE;YACAC;YACAF;YACAI;UACA;UACAQ;YACAe;YACAC;cACA;cACA;YACA;YACAC;YACAxC;YACAyC;cACAlB;cACAA;gBACAC;gBACAC;cACA;cACAC;gBACAH;kBACAe,yCACA,OACAnC,6BACAC,UACA,oBACA,uBACA,0BACAE;gBACA;cACA;YACA;YACAsC;cACAf;YACA;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACvYA;AAAA;AAAA;AAAA;AAAs6B,CAAgB,22BAAG,EAAC,C;;;;;;;;;;;ACA17B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/service/equipment_xq.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/service/equipment_xq.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./equipment_xq.vue?vue&type=template&id=e657f346&\"\nvar renderjs\nimport script from \"./equipment_xq.vue?vue&type=script&lang=js&\"\nexport * from \"./equipment_xq.vue?vue&type=script&lang=js&\"\nimport style0 from \"./equipment_xq.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/service/equipment_xq.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./equipment_xq.vue?vue&type=template&id=e657f346&\"","var components\ntry {\n  components = {\n    clRow: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-row/cl-row\" */ \"@/cl-uni/components/cl-row/cl-row.vue\"\n      )\n    },\n    clSelect: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-select/cl-select\" */ \"@/cl-uni/components/cl-select/cl-select.vue\"\n      )\n    },\n    clInputNumber: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-input-number/cl-input-number\" */ \"@/cl-uni/components/cl-input-number/cl-input-number.vue\"\n      )\n    },\n    clCheckboxGroup: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-checkbox-group/cl-checkbox-group\" */ \"@/cl-uni/components/cl-checkbox-group/cl-checkbox-group.vue\"\n      )\n    },\n    clCheckbox: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-checkbox/cl-checkbox\" */ \"@/cl-uni/components/cl-checkbox/cl-checkbox.vue\"\n      )\n    },\n    ldSelect: function () {\n      return import(\n        /* webpackChunkName: \"components/ld-select/ld-select\" */ \"@/components/ld-select/ld-select.vue\"\n      )\n    },\n    clTextarea: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-textarea/cl-textarea\" */ \"@/cl-uni/components/cl-textarea/cl-textarea.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./equipment_xq.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./equipment_xq.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"content\" style=\"margin-bottom: 40px;\">\n\t\t<view class=\"service\">\n\t\t\t<view class=\"service_content\">\n\t\t\t\t<cl-row>\n\t\t\t\t\t<view class=\"text-left\">设备名称</view>\n\t\t\t\t\t<view class=\"text-right\">{{equipment_name}}</view>\n\t\t\t\t</cl-row>\n\t\t\t\t<cl-row>\n\t\t\t\t\t<view class=\"text-left\">设备区域</view>\n\t\t\t\t\t<view class=\"text-right\">\n\t\t\t\t\t\t<cl-select v-model=\"equipment_area\" :options=\"use_areas\"></cl-select>\n\t\t\t\t\t</view>\n\t\t\t\t</cl-row>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"service\">\n\t\t\t<view class=\"service_title\">检查数据</view>\n\t\t\t<view class=\"new_card_content\">\n\t\t\t\t<view>\n\t\t\t\t\t<view span=\"12\" v-for=\"(check, index_cd) in check_datas\" :key=\"index_cd\">\n\t\t\t\t\t\t<view class=\"num_c\" v-if=\"typeid==1\">\n\t\t\t\t\t\t\t{{check.label}}\n\t\t\t\t\t\t\t<cl-input-number v-model=\"check.value\" style=\"margin-left: 10px;\"  ></cl-input-number>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"num_c\" v-else-if=\"typeid==2\">\n\t\t\t\t\t\t\t<view style=\"float: left;margin: 7px;\">{{check.label}}</view>\n\t\t\t\t\t\t\t<view style=\"float: right;\">\n\t\t\t\t\t\t\t\t<cl-select v-model=\"check.value\" :options=\"check.selects\"></cl-select>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- <view class=\"new_card\">\n\t\t\t<view class=\"new_card_title\">\n\t\t\t\t<view class=\"new_card_title_left\">\n\t\t\t\t\t<span class=\"xh\">|</span>\n\t\t\t\t\t现场照片<span class=\"dcts\">(最多4张)</span>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"new_card_content\">\n\n\t\t\t\t<fjj-images title=\"图片上传\" v-model=\"site_photos\" :pageImgList=\"site_photos\" :imgCount=\"4\"\n\t\t\t\t\t@addImg=\"editParkImg\" @deleteImg=\"deleteImg\" @getimgList=\"getimgList\"></fjj-images>\n\t\t\t</view>\n\t\t</view> -->\n\n\t\t<view class=\"service\">\n\t\t\t<view class=\"service_title\">检查与处理<span class=\"dcts\">(可多选)</span></view>\n\t\t\t<view class=\"service_content\">\n\t\t\t\t<cl-checkbox-group v-model=\"check_handle\" border>\n\t\t\t\t\t<cl-checkbox v-for=\"(checkup,index_c) in check_handles\" :key=\"index_c\" v-bind:label=\"checkup.value\">\n\t\t\t\t\t\t{{checkup.label}}\n\t\t\t\t\t</cl-checkbox>\n\t\t\t\t</cl-checkbox-group>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"service\">\n\t\t\t<view class=\"service_title\">补充说明</view>\n\t\t\t<view class=\"lz\">\n\t\t\t\t<ld-select :multiple=\"true\" :list=\"shortcuts\" @inputFun=\"inputFun\" label-key=\"label\" value-key=\"value\"\n\t\t\t\t\tplaceholder=\"示例\" clearable v-model=\"more_info\" @change=\"selectChange\"></ld-select>\n\t\t\t</view>\n\t\t\t<cl-textarea rows=\"13\" cols=\"40\" placeholder=\"请输入\" v-model=\"more_info\" count></cl-textarea>\n\t\t</view>\n\t\t<view class=\"bu\" @tap=\"save()\">\n\t\t\t保存\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport fjjImages from '@/components/fjj-images/fjj-images.vue';\n\timport ldSelect from '@/components/ld-select/ld-select.vue';\n\texport default {\n\t\tcomponents: {\n\t\t\tfjjImages,\n\t\t\tldSelect\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tuse_areas: [],\n\t\t\t\tshortcuts: [],\n\t\t\t\tjobid: '',\n\t\t\t\tjobtype: '',\n\t\t\t\tshortcut_type: '',\n\t\t\t\tservice_type: '',\n\t\t\t\tid: '',\n\t\t\t\ttypeid: '',\n\t\t\t\tequipment_name: '',\n\t\t\t\tequipment_area: '',\n\t\t\t\tsite_photos: '',\n\t\t\t\tcheck_datas: '',\n\t\t\t\tcheck_handle: '',\n\t\t\t\tcheck_handles: '',\n\t\t\t\tmore_info: [],\n\t\t\t\tend_site_photos: '',\n\t\t\t\tstart_site_photos: '',\n\t\t\t\tupload_site_photos: '',\n\t\t\t\tsearch_key: '',\n\t\t\t\ttimer: null,\n\t\t\t\tlen: false\n\t\t\t}\n\t\t},\n\t\tonLoad(index) {\n\t\t\tvar loginRes = this.checkLogin();\n\t\t\tif (!loginRes) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"请先登录\",\n\t\t\t\t\ticon: 'none',\n\t\t\t\t});\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\treturn false\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t\tthis.jobid = index.jobid\n\t\t\tthis.jobtype = index.jobtype\n\t\t\tthis.shortcut_type = index.shortcut_type\n\t\t\tthis.service_type = index.service_type\n\t\t\tthis.id = index.eq_id\n\t\t\tthis.data_select()\n\t\t\tthis.getshortcuts()\n\t\t},\n\t\tmethods: {\n\t\t\tinputFun(data) {\n\t\t\t\tconsole.log(data)\n\t\t\t\tthis.search_key = data.value;\n\t\t\t\tthis.clearTimer()\n\t\t\t\tif (this.search_key && this.search_key.length > 0) {\n\t\t\t\t\tthis.len = true\n\t\t\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\t\t\tconsole.log(this.search_key)\n\t\t\t\t\t\tthis.getshortcuts();\n\t\t\t\t\t}, 500)\n\t\t\t\t} else {\n\t\t\t\t\tif (this.len) {\n\t\t\t\t\t\tconsole.log(this.search_key)\n\t\t\t\t\t\tthis.getshortcuts();\n\t\t\t\t\t}\n\t\t\t\t\tif (this.search_key === '') {\n\t\t\t\t\t\tthis.len = false\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tclearTimer() {\n\t\t\t\tif (this.timer) {\n\t\t\t\t\tclearTimeout(this.timer)\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tselectChange(val) {\n\t\t\t\tthis.more_info = val\n\t\t\t},\n\t\t\tdata_select() {\n\t\t\t\tlet param = {\n\t\t\t\t\tstaffid: uni.getStorageSync('staffid'),\n\t\t\t\t\tcity: uni.getStorageSync('city'),\n\t\t\t\t\tid: this.id,\n\t\t\t\t\tjob_id: this.jobid,\n\t\t\t\t\tjob_type: this.jobtype,\n\t\t\t\t}\n\t\t\t\tuni.request({\n\t\t\t\t\turl: `${this.$baseUrl}/getequipmentsbyid`,\n\t\t\t\t\theader: {\n\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t\t'token': uni.getStorageSync('token')\n\t\t\t\t\t},\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: param,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.data.code == 1) {\n\t\t\t\t\t\t\tif (res.data.data) {\n\t\t\t\t\t\t\t\tthis.use_areas = res.data.data.use_areas\n\t\t\t\t\t\t\t\tthis.typeid = res.data.data.eq.type\n\t\t\t\t\t\t\t\tthis.equipment_name = res.data.data.eq.equipment_name\n\t\t\t\t\t\t\t\tthis.equipment_area = res.data.data.eq.equipment_area\n\t\t\t\t\t\t\t\tthis.check_datas = res.data.data.eq.check_datas\n\t\t\t\t\t\t\t\tthis.check_handles = res.data.data.eq.check_handles\n\t\t\t\t\t\t\t\tif (res.data.data.eq.check_handle != \"\") {\n\t\t\t\t\t\t\t\t\tthis.check_handle = res.data.data.eq.check_handle.split(',')\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.check_handle = []\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// this.check_handle = ?null: res.data.data.eq.check_handle.split(',')\n\t\t\t\t\t\t\t\tthis.more_info = res.data.data.eq.more_info\n\t\t\t\t\t\t\t\tthis.end_site_photos = res.data.data.eq.site_photos.split(',')\n\t\t\t\t\t\t\t\tif (res.data.data.eq.site_photos) {\n\t\t\t\t\t\t\t\t\tthis.site_photos = res.data.data.eq.site_photos.split(',')\n\t\t\t\t\t\t\t\t\tfor (let j = 0; j < this.site_photos.length; j++) {\n\t\t\t\t\t\t\t\t\t\tvar site_po = this.site_photos[j].replace(/\\\"/g, \"\")\n\t\t\t\t\t\t\t\t\t\t\t.replace(/[\\\\]/g,\n\t\t\t\t\t\t\t\t\t\t\t\t'');\n\t\t\t\t\t\t\t\t\t\tthis.site_photos[j] = `${this.$baseUrl_imgs}` +\n\t\t\t\t\t\t\t\t\t\t\tsite_po;\n\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis.start_site_photos = this.site_photos\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\turl: \"/pages/login/login\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, 2000)\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetshortcuts() {\n\t\t\t\t//查询快捷语\n\t\t\t\t// if(s_key){\n\t\t\t\t// \t this.search_key = s_key\n\t\t\t\t// }  \n\t\t\t\tlet params = {\n\t\t\t\t\tstaffid: uni.getStorageSync('staffid'),\n\t\t\t\t\tcity: uni.getStorageSync('city'),\n\t\t\t\t\tshortcut_type: this.shortcut_type,\n\t\t\t\t\tservice_type: this.service_type,\n\t\t\t\t\tsearch_key: this.search_key\n\t\t\t\t}\n\t\t\t\tuni.request({\n\t\t\t\t\turl: `${this.$baseUrl}/getshortcuts`,\n\t\t\t\t\theader: {\n\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t\t'token': uni.getStorageSync('token')\n\t\t\t\t\t},\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: params,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.data.code == 1) {\n\t\t\t\t\t\t\tthis.shortcuts = res.data.data\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: res.msg\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\teditParkImg(currentTempFilePath) {},\n\t\t\tdeleteImg(index) {\n\t\t\t\t//删除数据库剩余部分\n\t\t\t\tvar del = JSON.parse(JSON.stringify(this.end_site_photos));\n\t\t\t\tfor (var i = 0; i < del.length; i++) {\n\t\t\t\t\tvar site_po = del[i].replace(/\\\"/g, \"\")\n\t\t\t\t\t\t.replace(/[\\\\]/g, '');\n\t\t\t\t\tdel[i] = `${this.$baseUrl_imgs}` + site_po;\n\t\t\t\t\tif (this.site_photos[index] == del[i])\n\t\t\t\t\t\tthis.end_site_photos.splice(i, 1)\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetimgList(index) {\n\t\t\t\tthis.site_photos = index\n\t\t\t},\n\t\t\tsave() {\n\t\t\t\tvar imgs = JSON.parse(JSON.stringify(this.site_photos))\n\t\t\t\tif (this.equipment_area == '' || this.check_datas == '') {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '信息填写不全',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t} else if (imgs.length > 4) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '图片最多四张',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: \"保存中...\"\n\t\t\t\t\t});\n\t\t\t\t\t//图片上传\n\t\t\t\t\tif (this.id > 0) {\n\t\t\t\t\t\t//上传部分\n\t\t\t\t\t\tfor (let i = 0; i < imgs.length; i++) {\n\t\t\t\t\t\t\tfor (let j = 0; j < this.start_site_photos.length; j++) {\n\t\t\t\t\t\t\t\tif (imgs[i] == this.start_site_photos[j]) { //如果是id相同的，那么a[ j ].id == b[ i ].id\n\t\t\t\t\t\t\t\t\timgs.splice(imgs[i], 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//剩余部分\n\t\t\t\t\tif (this.end_site_photos.length > 0) {\n\t\t\t\t\t\tthis.upload_site_photos = this.end_site_photos\n\t\t\t\t\t}\n\t\t\t\t\tfor (var i = 0; i < imgs.length; i++) {\n\t\t\t\t\t\tuni.uploadFile({\n\t\t\t\t\t\t\turl: `${this.$baseUrl}/upload/imgswx?version=${this.$version}`, // 后端api接口\n\t\t\t\t\t\t\tfilePath: imgs[i], // uni.chooseImage函数调用后获取的本地文件路劲\n\t\t\t\t\t\t\tname: 'file', //后端通过'file'获取上传的文件对象\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t'content-type': 'multipart/form-data',\n\t\t\t\t\t\t\t\t'token': uni.getStorageSync('token')\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tvar res = JSON.parse(result.data)\n\t\t\t\t\t\t\t\tif (res.code === 0) {\n\t\t\t\t\t\t\t\t\tvar images_data = res.data.file_name;\n\t\t\t\t\t\t\t\t\tif (this.upload_site_photos == '') {\n\t\t\t\t\t\t\t\t\t\tthis.upload_site_photos = images_data;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.upload_site_photos = this.upload_site_photos + ',' + images_data;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: res.msg,\n\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\t\tconsole.log('uploadImage fail', err);\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\tcontent: err.errMsg,\n\t\t\t\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t//保存信息\n\t\t\t\t\t\tlet params = {\n\t\t\t\t\t\t\tstaffid: uni.getStorageSync('staffid'),\n\t\t\t\t\t\t\tid: this.id,\n\t\t\t\t\t\t\tjob_id: this.jobid,\n\t\t\t\t\t\t\tjob_type: this.jobtype,\n\t\t\t\t\t\t\tequipment_name: this.equipment_name,\n\t\t\t\t\t\t\tequipment_area: this.equipment_area,\n\t\t\t\t\t\t\tcheck_datas: JSON.stringify(this.check_datas),\n\t\t\t\t\t\t\tcheck_handle: this.check_handle,\n\t\t\t\t\t\t\tsite_photos: this.upload_site_photos,\n\t\t\t\t\t\t\tmore_info: this.more_info,\n\t\t\t\t\t\t}\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: `${this.$baseUrl}/Saveequipment`,\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t\t\t\t'token': uni.getStorageSync('token')\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tdata: params,\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\t\turl: \"/pages/service/equipment?jobid=\" +\n\t\t\t\t\t\t\t\t\t\t\tthis\n\t\t\t\t\t\t\t\t\t\t\t.jobid + '&jobtype=' + this\n\t\t\t\t\t\t\t\t\t\t\t.jobtype +\n\t\t\t\t\t\t\t\t\t\t\t'&shortcut_type=' +\n\t\t\t\t\t\t\t\t\t\t\tthis.shortcut_type +\n\t\t\t\t\t\t\t\t\t\t\t'&service_type=' + this\n\t\t\t\t\t\t\t\t\t\t\t.service_type\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}, 1000)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}, 1000)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.new_card {\n\t\tbackground-color: #fff;\n\t\tborder-radius: 10px;\n\t\tpadding-bottom: 10px;\n\t\tmargin: 10px 0px;\n\n\t}\n\n\t.new_card_title {\n\t\tborder-bottom: 1px solid #e0dcdc;\n\t\tfont-size: 19px;\n\t\tfont-weight: bold;\n\t\tpadding: 10px;\n\t\theight: 30px;\n\t}\n\n\t.xh {\n\t\tcolor: #007AFF;\n\t\tfont-weight: bold;\n\t\tfont-size: 21px;\n\t\tmargin-right: 5px;\n\t}\n\n\t.new_card_title_left {\n\t\tfloat: left;\n\t}\n\n\t.new_card_title_right {\n\t\tfont-size: 21px;\n\t\tcolor: #d0cece;\n\t\tfloat: right;\n\n\t}\n\n\t.new_card_content {\n\t\tmargin: 10px;\n\t\tfont-size: 17px;\n\t}\n\n\t.new_card_content span {\n\t\tcolor: #5e6165;\n\t}\n\n\t.tj_bu {\n\t\tposition: relative;\n\t\tbottom: 0px;\n\t\tbackground-color: #007AFF;\n\t\tcolor: #FFFFFF;\n\t\tfont-size: 20px;\n\t}\n\n\t.lcx {\n\t\tbackground-color: #fff;\n\t\tborder-radius: 10px;\n\t\tpadding-bottom: 10px;\n\t\tmargin: 10px 0px;\n\t\tpadding-top: 10px;\n\t}\n\n\t.text-left {\n\t\tfloat: left;\n\t}\n\n\t.text-right {\n\t\tfloat: right;\n\t}\n\n\t.top_text {\n\t\tbackground-color: #FFFFFF;\n\t\tpadding: 10px;\n\t\tfont-size: 16px;\n\t}\n\n\t.cl-select__inner {\n\t\theight: 70rpx;\n\t\tline-height: 70rpx;\n\t\tfont-size: 16px;\n\t}\n\n\t.text {\n\t\tborder-bottom: 1px solid #e0dcdc;\n\t\tmargin: 10px 0px;\n\t\tpadding-bottom: 10px;\n\t}\n\n\t.num_c {\n\t\tmargin-bottom: 10px;\n\t}\n\n\t.dcts {\n\t\tcolor: #9c9c9c;\n\t\tfont-size: 14px;\n\t}\n\n\t.bu {\n\t\tbackground-color: #007AFF;\n\t\tcolor: #FFFFFF;\n\t\theight: 50px;\n\t\ttext-align: center;\n\t\tborder-top: 1px solid #f5f2f2;\n\t\tfont-size: 19px;\n\t\tfont-weight: bold;\n\t\tposition: fixed;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0px;\n\t\tline-height: 50px;\n\t}\n\n\t.cl-checkbox {\n\t\tdisplay: inline-block;\n\t\tline-height: 40rpx;\n\t\tfont-size: 31rpx;\n\t\t-webkit-transition: all 0.3s;\n\t\ttransition: all 0.3s;\n\t}\n\n\t.cl-textarea textarea {\n\t\tfont-size: 32rpx;\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t\tfont-size: 32rpx;\n\t}\n\n\t.cl-textarea {\n\t\tborder: 1rpx solid #dcdfe6;\n\t\tborder-radius: 8rpx;\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t\tbackground-color: #fff;\n\t\tposition: relative;\n\t\tpadding: 10rpx 10rpx 10rpx 16rpx;\n\t\tline-height: 36rpx;\n\t\tmargin-top: 10px;\n\t}\n\n\t/* new */\n\t.content {\n\t\tpadding: 10px;\n\t}\n\n\t.service {\n\t\tpadding-bottom: 15px;\n\t}\n\n\t.jh {\n\t\tcolor: red;\n\t\tmargin-left: 5px;\n\t}\n\n\t.service_title {\n\t\t/* color: #03A9F4; */\n\t\tfont-size: 18px;\n\t\tfont-weight: bold;\n\t}\n\n\t.text-green.data-v-2ee6bce8 {\n\t\tcolor: #12900a;\n\t}\n\n\tpage {\n\t\tbackground-color: #FFFFFF;\n\t}\n\n\t.service_content {\n\t\tmargin: 8px 0px;\n\t}\n\n\t.service_content view {\n\t\tmargin: 3px 0px;\n\t}\n\n\t.lz {\n\t\tmargin: 10px 0px;\n\t}\n\n\t.new_card_content {\n\t\tmargin: 8px 0px;\n\t\tfont-size: 17px;\n\t}\n</style>\n","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./equipment_xq.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./equipment_xq.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1707450331819\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}