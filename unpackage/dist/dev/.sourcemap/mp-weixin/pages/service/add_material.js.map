{"version":3,"sources":["uni-app:///main.js","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/service/add_material.vue?cb9e","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/service/add_material.vue?e534","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/service/add_material.vue?db6d","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/service/add_material.vue?3784","uni-app:///pages/service/add_material.vue","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/service/add_material.vue?a4cb","webpack:///D:/phpstudy_pro/WWW/qianduan/TechnicianMiniProgram/pages/service/add_material.vue?3850"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","arr","components","ldSelect","data","name","shortcuts","shortcutsOld","material","material_lists","registration_no","active_ingredient","ratio","targets","target","usemodes","usemode","dosage","processing_space","usearea","useareas","matters_needing_attention","tablename","id","jobid","jobtype","shortcut_type","service_type","unit","search_key","timer","len","onLoad","uni","title","icon","setTimeout","methods","inputFun","clearTimer","clearTimeout","selectChange","data_select","url","header","method","success","item","res","label","value","fail","console","change_material","save","job_id","job_type","material_name","material_registration_no","material_active_ingredient","material_ratio","use_mode","use_area","del","message","callback","action"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,qBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACa;;;AAGxE;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,6PAEN;AACP,KAAK;AACL;AACA,aAAa,yNAEN;AACP,KAAK;AACL;AACA,aAAa,yQAEN;AACP,KAAK;AACL;AACA,aAAa,uPAEN;AACP,KAAK;AACL;AACA,aAAa,mQAEN;AACP,KAAK;AACL;AACA,aAAa,yTAEN;AACP,KAAK;AACL;AACA,aAAa,qRAEN;AACP,KAAK;AACL;AACA,aAAa,qRAEN;AACP,KAAK;AACL;AACA,aAAa,8LAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACzEA;AAAA;AAAA;AAAA;AAAuoB,CAAgB,snBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2G3pB;EAAA;EACA;EACA;EACA;IACA;MACAC;IACA;EACA;EACA;AACA;AAAA;AAAA;EAAA;IAAA;EAAA,CAAC;AAAD;AAAA,eAEA;EACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IAEA;EACA;EACAC;IACA;IACA;MACAC;QACAC;QACAC;MACA;MACAC;QACA;MACA;IACA;IACA;IACA;IACA;IAEA;EAEA;EACAC;IACA;AACA;AACA;AACA;IACAC;MAAA;MAEA;MACA;MACA;QAEA;UACA;UACA;QACA;MAEA;QACA;QACA;MACA;IACA;IACAC;MACA;QACAC;MACA;IACA;IACA;AACA;AACA;AACA;IACAC;MACA;IACA;IACAC;MAAA;MACA;MACA;MACAT;QACAU;QACAC;UACA;UACA;QACA;QACAC;QACAzC;QACA0C;UACA;YACA;;YAEA;cAEA;cACArC;gBACAsC;gBACAA;cACA;cACA;cAEA;cACA;cACA;;cAEA;cACA;cACA,+CACA;gBACAC;kBACA1C;oBAAA2C;oBAAAC;kBAAA;gBACA;cACA;cACA;cACA;cAEA,mBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;cAEA;YACA;;YAGA,0BACA;cACAjB;YACA;UAEA;QAEA;QACAkB;UACAC;QACA;MACA;IACA;IACAC;MACA;QACA;UACA;UACA;UACA;UACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MAEA,oBACA;QACArB;UACAC;UACAC;QACA;QACA;MACA;QACAF;UACAC;QACA;QACA;UAEAX;UACAgC;UACAC;UACAC;UACAC;UACAC;UACAC;UACA/C;UACAgD;UACAC;UACA7C;UACAC;UACAG;UACAO;QACA;QACA,kBACA;UACAK;YACAU;YACAC;cACA;cACA;YACA;YACAC;YACAzC;YACA0C;cACA,0BACA;gBACAb;gBACAA;kBACAC;kBACAC;gBACA;gBACAC;kBACAH;oBACAU;kBACA;gBACA;cACA;cACA,0BACA;gBACAV;kBACAC;kBACAC;gBACA;cACA;YACA;YACAgB;cACAC;YACA;UACA;QACA;QACA,kBACA;UACAnB;YACAU;YACAC;cACA;cACA;YACA;YACAC;YACAzC;YACA0C;cACAb;cACAA;gBACAC;gBACAC;cACA;cACAC;gBACAH;kBACAU;gBACA;cACA;YAEA;YACAQ;cACAC;YACA;UACA;QACA;MAEA;IACA;IACA;IACAW;MAAA;MACA;QACA7B;QACA8B;QACAC,kCAEA;UAAA,IADAC;UAEA;YACA;cACAjC;gBACAE;gBACAD;cACA;cACA;YACA;cACAkB;cACA;cACAnB;gBACAU;gBACAC;kBACA;kBACA;gBACA;gBACAC;gBACAzC;gBACA0C;kBACA;oBACAb;sBACAE;sBACAD;oBACA;oBACAE;sBACAH;wBACAU,wCACA,OACAnB,6BACAC;sBACA;oBACA;kBAEA;gBACA;gBACA0B;kBACAC;gBACA;cACA;YACA;UACA;YACAnB;cACAE;cACAD;YACA;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC1bA;AAAA;AAAA;AAAA;AAAs6B,CAAgB,22BAAG,EAAC,C;;;;;;;;;;;ACA17B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/service/add_material.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/service/add_material.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./add_material.vue?vue&type=template&id=475df898&\"\nvar renderjs\nimport script from \"./add_material.vue?vue&type=script&lang=js&\"\nexport * from \"./add_material.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add_material.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/service/add_material.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add_material.vue?vue&type=template&id=475df898&\"","var components\ntry {\n  components = {\n    clIcon: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-icon/cl-icon\" */ \"@/cl-uni/components/cl-icon/cl-icon.vue\"\n      )\n    },\n    clConfirm: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-confirm/cl-confirm\" */ \"@/cl-uni/components/cl-confirm/cl-confirm.vue\"\n      )\n    },\n    clSelect: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-select/cl-select\" */ \"@/cl-uni/components/cl-select/cl-select.vue\"\n      )\n    },\n    clRow: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-row/cl-row\" */ \"@/cl-uni/components/cl-row/cl-row.vue\"\n      )\n    },\n    clInput: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-input/cl-input\" */ \"@/cl-uni/components/cl-input/cl-input.vue\"\n      )\n    },\n    clCheckboxGroup: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-checkbox-group/cl-checkbox-group\" */ \"@/cl-uni/components/cl-checkbox-group/cl-checkbox-group.vue\"\n      )\n    },\n    clCheckbox: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-checkbox/cl-checkbox\" */ \"@/cl-uni/components/cl-checkbox/cl-checkbox.vue\"\n      )\n    },\n    clTextarea: function () {\n      return import(\n        /* webpackChunkName: \"cl-uni/components/cl-textarea/cl-textarea\" */ \"@/cl-uni/components/cl-textarea/cl-textarea.vue\"\n      )\n    },\n    ldSelect: function () {\n      return import(\n        /* webpackChunkName: \"components/ld-select/ld-select\" */ \"@/components/ld-select/ld-select.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add_material.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add_material.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"content\" style=\"margin-bottom: 40px;\">\n\t\t<view class=\"del\" @tap=\"del()\" v-if=\"id>0\">\n\t\t\t<cl-icon name=\"cl-icon-minus-border\" color=\"#007AFF\" :size=\"80\"></cl-icon>\n\t\t</view>\n\t\t<cl-confirm ref=\"del_confirm\"> </cl-confirm>\n\t\t<!-- 物料 -->\n\t\t<view class=\"service\">\n\t\t\t<view class=\"service_title\">物料<span class=\"jh\">*</span>\n\t\t\t\t<view class=\"new_card_title_right\">\n\t\t\t\t\t<cl-select v-model=\"material\" :options=\"material_lists\" @change=\"change_material()\"></cl-select>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"service_content\">\n\t\t\t\t<cl-row>\n\t\t\t\t\t<view class=\"text-left\">农药登记证号</view>\n\t\t\t\t\t<view class=\"text-right\">{{registration_no}}</view>\n\t\t\t\t</cl-row>\n\t\t\t\t<cl-row>\n\t\t\t\t\t<view class=\"text-left\">有效成分</view>\n\t\t\t\t\t<view class=\"text-right\">{{active_ingredient}}</view>\n\t\t\t\t</cl-row>\n\t\t\t\t<cl-row style=\"color: #000000;\">\n\t\t\t\t\t<view class=\"text-left\">药物配比</view>\n\t\t\t\t\t<view class=\"text-right\" style=\"height: 0px;\">\n\t\t\t\t\t\t<cl-input v-model=\"ratio\" placeholder=\"例:1:10\" style=\"text-align: right;\">{{ratio}}</cl-input>\n\t\t\t\t\t</view>\n\t\t\t\t</cl-row>\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- 靶标 -->\n\t\t<view class=\"service\">\n\t\t\t<view class=\"service_title\">靶标<span class=\"jh\">*</span><span class=\"dcts\">(可多选)</span>\n\t\t\t</view>\n\t\t\t<view class=\"service_content\">\n\t\t\t\t<view style=\"margin: 10px 0px;\">\n\t\t\t\t\t<cl-checkbox-group v-model=\"target\" border>\n\t\t\t\t\t\t<cl-checkbox v-for=\"(item,index) in targets\" :key=\"index\" v-bind:label=\"item\">\n\t\t\t\t\t\t\t{{item}}\n\t\t\t\t\t\t</cl-checkbox>\n\t\t\t\t\t</cl-checkbox-group>\n\t\t\t\t</view>\n\n\t\t\t\t<cl-row style=\"color: #000000;\">\n\t\t\t\t\t<view>使用方式<span class=\"jh\">*</span></view>\n\t\t\t\t\t<view>\n\t\t\t\t\t\t<cl-checkbox-group v-model=\"usemode\" border>\n\t\t\t\t\t\t\t<cl-checkbox v-for=\"(item,index) in usemodes\" :key=\"index\" v-bind:label=\"item\">\n\t\t\t\t\t\t\t\t{{item}}\n\t\t\t\t\t\t\t</cl-checkbox>\n\t\t\t\t\t\t</cl-checkbox-group>\n\t\t\t\t\t</view>\n\t\t\t\t</cl-row>\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- 使用区域 -->\n\t\t<view class=\"service\">\n\t\t\t<view class=\"service_title\">使用区域<span class=\"dcts\">(可多选)</span>\n\t\t\t</view>\n\t\t\t<view class=\"service_content\">\n\t\t\t\t<cl-row style=\"color: #000000;\">\n\t\t\t\t\t<view>\n\t\t\t\t\t\t<cl-checkbox-group v-model=\"usearea\" border>\n\t\t\t\t\t\t\t<cl-checkbox v-for=\"(item,index) in useareas\" :key=\"index\" v-bind:label=\"item\">\n\t\t\t\t\t\t\t\t{{item}}\n\t\t\t\t\t\t\t</cl-checkbox>\n\t\t\t\t\t\t</cl-checkbox-group>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view>\n\t\t\t\t\t\t<cl-textarea placeholder=\"请输入\" v-model=\"usearea\" count></cl-textarea>\n\t\t\t\t\t</view>\n\t\t\t\t</cl-row>\n\t\t\t\t<cl-row style=\"color: #000000;\">\n\t\t\t\t\t<view class=\"text-left\">处理空间/面积</view>\n\t\t\t\t\t<view class=\"text-right\" style=\"height: 0px;\">\n\t\t\t\t\t\t<cl-input v-model=\"processing_space\" placeholder=\"例:50平\" style=\"text-align: right;\"></cl-input>\n\t\t\t\t\t</view>\n\t\t\t\t</cl-row>\n\t\t\t\t<cl-row style=\"color: #000000;\">\n\t\t\t\t\t<view class=\"text-left\">药物用量</view>\n\t\t\t\t\t<view class=\"text-right\" style=\"height: 10px;\">\n\t\t\t\t\t\t<cl-input v-model=\"dosage\" placeholder=\"请输入\" style=\"text-align: right;\"><text slot=\"append\"\n\t\t\t\t\t\t\t\tstyle=\"margin-top: 10px;font-size: 16px;\">{{unit}}</text></cl-input>\n\n\t\t\t\t\t</view>\n\t\t\t\t</cl-row>\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- 注意事项 -->\n\t\t<view class=\"service\">\n\t\t\t<view class=\"service_title\">注意事项</view>\n\t\t\t<view class=\"lz\">\n\t\t\t\t<ld-select :multiple=\"true\" :list=\"shortcuts\" @inputFun=\"inputFun\" label-key=\"label\" value-key=\"value\"\n\t\t\t\t\tplaceholder=\"示例\" clearable v-model=\"matters_needing_attention\" @change=\"selectChange\"></ld-select>\n\t\t\t</view>\n\t\t\t<cl-textarea v-model=\"matters_needing_attention\" placeholder=\"请输入\" count></cl-textarea>\n\t\t</view>\n\t\t<view style=\"width: 100%; height: 100rpx;\">\n\t\t\t\n\t\t</view>\n\t\t<view class=\"bu\" @tap=\"save()\">\n\t\t\t保存\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nexport const fuzzyQuery = (list, keyWord, attribute = 'value') => {\n  const reg = new RegExp(keyWord)\n  const arr = []\n  for (let i = 0; i < list.length; i++) {\n    if (reg.test(list[i][attribute])) {\n      arr.push(list[i])\n    }\n  }\n  return arr\n}\n\timport ldSelect from '@/components/ld-select/ld-select.vue'\n\texport default {\n\t\tcomponents: {\n\t\t\tldSelect\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tname:'新增物料使用',\n\t\t\t\tshortcuts: [],\n\t\t\t\tshortcutsOld:[],\t// 快捷语原值 用于恢复\n\t\t\t\tmaterial: \"\",\n\t\t\t\tmaterial_lists: [],\n\t\t\t\tregistration_no: \"\",\n\t\t\t\tactive_ingredient: \"\",\n\t\t\t\tratio: \"\",\n\t\t\t\ttargets: [],\n\t\t\t\ttarget: \"\",\n\t\t\t\tusemodes: [],\n\t\t\t\tusemode: \"\",\n\t\t\t\tdosage: \"\",\n\t\t\t\tprocessing_space: \"\",\n\t\t\t\tusearea: \"\",\n\t\t\t\tuseareas: [],\n\t\t\t\tmatters_needing_attention: [],\n\t\t\t\ttablename: \"materials\",\n\t\t\t\tid: '',\n\t\t\t\tjobid: '',\n\t\t\t\tjobtype: '',\n\t\t\t\tshortcut_type: '',\n\t\t\t\tservice_type: '',\n\t\t\t\tunit: '',\n\t\t\t\tsearch_key: '',\n\t\t\t\ttimer: null,\n\t\t\t\tlen: false\n\n\t\t\t}\n\t\t},\n\t\tonLoad(index) {\n\t\t\tvar loginRes = this.checkLogin();\n\t\t\tif (!loginRes) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"请先登录\",\n\t\t\t\t\ticon: 'none',\n\t\t\t\t});\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\treturn false\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t\tthis.id = index.id\n\t\t\tthis.jobid = index.jobid\n\t\t\tthis.jobtype = index.jobtype\n\t\t\t\n\t\t\tthis.data_select()\n\t\t\t\n\t\t},\n\t\tmethods: {\n\t\t\t/**\n\t\t\t *搜索开始\n\t\t\t * *\n\t\t\t */\n\t\t\tinputFun(data) {\n\t\t\t\t\n\t\t\t\tthis.search_key = data.value;\n\t\t\t\tthis.clearTimer()\n\t\t\t\tif (this.search_key && this.search_key.length > 0) {\n\t\t\t\t\t\n\t\t\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\t\t\tlet result = fuzzyQuery(this.shortcuts, this.search_key, 'value') // 数组、搜索值、字段\n\t\t\t\t\t\tthis.shortcuts = result\n\t\t\t\t\t}, 500)\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\t// 恢复原来值\n\t\t\t\t\tthis.shortcuts = this.shortcutsOld\n\t\t\t\t}\n\t\t\t},\n\t\t\tclearTimer() {\n\t\t\t\tif (this.timer) {\n\t\t\t\t\tclearTimeout(this.timer)\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t *搜索结束\n\t\t\t * *\n\t\t\t */\n\t\t\tselectChange(val) {\n\t\t\t\tthis.matters_needing_attention = val\n\t\t\t},\n\t\t\tdata_select() {\n\t\t\t\t//查询是否存在以及所有选项\n\t\t\t\tlet param = {}\n\t\t\t\tuni.request({\n\t\t\t\t\turl: `${this.$baseUrl}/Materials.Materials/getMaterialsInfo?job_id=` + this.jobid + \"&job_type=\" + this.jobtype + \"&id=\" + this.id,\n\t\t\t\t\theader: {\n\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t\t'token': uni.getStorageSync('token')\n\t\t\t\t\t},\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tdata: param,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.data.code == 200) {\n\t\t\t\t\t\t\t// console.log(res.data.data)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (res.data.data) {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tlet material_lists = res.data.data.materialLists\t// 地区使用的物料清单\n\t\t\t\t\t\t\t\tmaterial_lists.forEach((item,i)=>{\n\t\t\t\t\t\t\t\t\titem.label = item.name\n\t\t\t\t\t\t\t\t\titem.value = item.name\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tthis.material_lists = material_lists\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tthis.targets = res.data.data.materialTargets\t     // 靶标\n\t\t\t\t\t\t\t\tthis.usemodes = res.data.data.materialUsemodes       // 使用方式\n\t\t\t\t\t\t\t\tthis.useareas = res.data.data.materialUseareas\t\t // 使用区域\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// 快捷语内容\n\t\t\t\t\t\t\t\tlet shortcuts = []\t\t\t\n\t\t\t\t\t\t\t\tif(res.data.data.shortcutContents.length>0)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tres.data.data.shortcutContents.forEach((item,i)=>{\n\t\t\t\t\t\t\t\t\t\tshortcuts.push({label:item,value:item})\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.shortcuts = shortcuts\n\t\t\t\t\t\t\t\tthis.shortcutsOld = shortcuts\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif (this.id>0)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.material = res.data.data.material.material_name\n\t\t\t\t\t\t\t\t\tthis.registration_no = res.data.data.material.material_registration_no\n\t\t\t\t\t\t\t\t\tthis.active_ingredient = res.data.data.material.material_active_ingredient\n\t\t\t\t\t\t\t\t\tthis.ratio = res.data.data.material.material_ratio\n\t\t\t\t\t\t\t\t\tthis.unit = res.data.data.material.unit\n\t\t\t\t\t\t\t\t\tthis.target = res.data.data.material.targets.split(',')\n\t\t\t\t\t\t\t\t\tthis.usemode = res.data.data.material.use_mode.split(',')\n\t\t\t\t\t\t\t\t\tthis.usearea = res.data.data.material.use_area.split(',')\n\t\t\t\t\t\t\t\t\tthis.processing_space = res.data.data.material.processing_space\t// 处理空间\n\t\t\t\t\t\t\t\t\tthis.dosage = res.data.data.material.dosage\t\t\t\t\t\t// 药物用量\n\t\t\t\t\t\t\t\t\tthis.matters_needing_attention = res.data.data.material.matters_needing_attention\t// 注意事项\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(res.data.code == 400)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tuni.$utils.toast(\"消息\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tchange_material(e) {\n\t\t\t\tfor (let i = 0; i < this.material_lists.length; i++) {\n\t\t\t\t\tif (this.material_lists[i].label == e) {\n\t\t\t\t\t\tthis.registration_no = this.material_lists[i].registration_no;\n\t\t\t\t\t\tthis.active_ingredient = this.material_lists[i].active_ingredient;\n\t\t\t\t\t\tthis.ratio = this.material_lists[i].ratio;\n\t\t\t\t\t\tthis.unit = this.material_lists[i].unit;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 保存\n\t\t\tsave() {\n\t\t\t\t\n\t\t\t\tif (!this.material)\n\t\t\t\t{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '信息填写不全',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: \"保存中...\"\n\t\t\t\t\t});\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\t\n\t\t\t\t\t\tid: this.id,\n\t\t\t\t\t\tjob_id: this.jobid,\n\t\t\t\t\t\tjob_type: this.jobtype,\n\t\t\t\t\t\tmaterial_name: this.material,\n\t\t\t\t\t\tmaterial_registration_no: this.registration_no,\n\t\t\t\t\t\tmaterial_active_ingredient: this.active_ingredient ? this.active_ingredient:'',\n\t\t\t\t\t\tmaterial_ratio: this.ratio,\n\t\t\t\t\t\ttargets: this.target,\n\t\t\t\t\t\tuse_mode: this.usemode,\n\t\t\t\t\t\tuse_area: this.usearea,\n\t\t\t\t\t\tdosage: this.dosage,\n\t\t\t\t\t\tprocessing_space: this.processing_space,\n\t\t\t\t\t\tmatters_needing_attention: this.matters_needing_attention,\n\t\t\t\t\t\tunit: this.unit,\n\t\t\t\t\t}\n\t\t\t\t\tif(this.id == 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: `${this.$baseUrl}/Materials.Materials/addMaterials`,\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t\t\t\t'token': uni.getStorageSync('token')\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tdata: params,\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tif(res.data.code == 200)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\t\t\turl: \"/pages/service/material?jobid=\" +this.jobid + '&jobtype=' + this.jobtype\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}, 2000)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(res.data.code == 400)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tif(this.id != 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: `${this.$baseUrl}/Materials.Materials/editMaterials?id=` + this.id,\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t\t\t\t'token': uni.getStorageSync('token')\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\t\t\tdata: params,\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\t\turl: \"/pages/service/material?jobid=\" +this.jobid + '&jobtype=' + this.jobtype\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}, 2000)\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 删除\n\t\t\tdel() {\n\t\t\t\tthis.$refs[\"del_confirm\"].open({\n\t\t\t\t\ttitle: \"提示\",\n\t\t\t\t\tmessage: \"确认删除？\",\n\t\t\t\t\tcallback: ({\n\t\t\t\t\t\taction\n\t\t\t\t\t}) => {\n\t\t\t\t\t\tif (action == 'confirm') {\n\t\t\t\t\t\t\tif (this.id == '' || this.id == 0) {\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\ttitle: '请选择删除物料'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.log('接口调试中')\n\t\t\t\t\t\t\t\tlet param = {}\n\t\t\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\t\t\turl: `${this.$baseUrl}/Materials.Materials/delMaterials?id=`+ this.id,\n\t\t\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t\t\t\t\t\t'token': uni.getStorageSync('token')\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\t\t\t\t\tdata: param,\n\t\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\t\tif (res.data.code == 200) {\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '删除成功'\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: \"/pages/service/material?jobid=\" +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.jobid + '&jobtype=' + this\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.jobtype\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}, 2000)\n\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\ttitle: '取消成功'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t},\n\t}\n</script>\n\n<style>\n\t.content {\n\t\tmargin-bottom: 50px;\n\t}\n\n\t.del {\n\t\tz-index: 9999;\n\t\tposition: fixed;\n\t\tbottom: 10%;\n\t\tright: 15px\n\t}\n\n\t.new_card {\n\t\tbackground-color: #FFFFFF;\n\t\tborder-radius: 10px;\n\t\tpadding-bottom: 1px;\n\t\tmargin: 10px 0px;\n\n\t}\n\n\t.new_card_title {\n\t\tborder-bottom: 1px solid #e0dcdc;\n\t\tfont-size: 19px;\n\t\tfont-weight: bold;\n\t\tpadding: 10px;\n\t\theight: 30px;\n\t}\n\n\t.xh {\n\t\tcolor: #007AFF;\n\t\tfont-weight: bold;\n\t\tfont-size: 21px;\n\t\tmargin-right: 5px;\n\t}\n\n\t.new_card_title_left {\n\t\tfloat: left;\n\t}\n\n\t.new_card_title_right {\n\t\tfont-size: 20px;\n\t\tfloat: right;\n\t\tposition: relative;\n\t\ttop: -6px;\n\t}\n\n\t.new_card_content {\n\t\tmargin: 10px;\n\t\tfont-size: 17px;\n\t\tcolor: #7b7070;\n\t}\n\n\t.new_card_content1 view {\n\t\tmargin-bottom: 10px;\n\t}\n\n\t.tj_bu {\n\t\tposition: fixed;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0px;\n\t\tline-height: 50px;\n\t\tbackground-color: #007AFF;\n\t\tcolor: #FFFFFF;\n\t\tfont-size: 20px;\n\t}\n\n\t.jh {\n\t\tcolor: red;\n\t\tmargin-left: 5px;\n\t}\n\n\t.text-left {\n\t\tfloat: left;\n\t}\n\n\t.text-right {\n\t\tfloat: right;\n\t}\n\n\t.cl-input.is-border {\n\t\tborder: 0rpx solid #dcdfe6;\n\t}\n\n\t.dcts {\n\t\tcolor: #9c9c9c;\n\t\tfont-size: 14px;\n\t}\n\n\t.bu {\n\t\tbackground-color: #007AFF;\n\t\tcolor: #FFFFFF;\n\t\theight: 50px;\n\t\ttext-align: center;\n\t\tborder-top: 1px solid #f5f2f2;\n\t\tfont-size: 19px;\n\t\tfont-weight: bold;\n\t\tposition: fixed;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0px;\n\t\tline-height: 50px;\n\t\tz-index: 9;\n\t}\n\n\t.cl-select {\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\tpadding-left: 20rpx;\n\t\tpadding-right: 60rpx;\n\t\tfont-size: 32rpx;\n\t\tbox-sizing: border-box;\n\t\toverflow: hidden;\n\t}\n\n\t.cl-textarea textarea {\n\t\tfont-size: 32rpx;\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t\tfont-size: 32rpx;\n\t}\n\n\t.cl-input__inner {\n\t\theight: 100%;\n\t\t-webkit-box-flex: 1;\n\t\t-webkit-flex: 1;\n\t\tflex: 1;\n\t\tfont-size: 32rpx;\n\t\tborder: 0;\n\t\tpadding: 0;\n\t\toutline: none;\n\t\tbackground-color: transparent;\n\t}\n\n\t.cl-checkbox {\n\t\tdisplay: inline-block;\n\t\tline-height: 40rpx;\n\t\tfont-size: 30rpx;\n\t\t-webkit-transition: all 0.3s;\n\t\ttransition: all 0.3s;\n\t}\n\n\t.cl-textarea {\n\t\tborder: 1rpx solid #dcdfe6;\n\t\tborder-radius: 8rpx;\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t\tbackground-color: #fff;\n\t\tposition: relative;\n\t\tpadding: 10rpx 10rpx 10rpx 16rpx;\n\t\tline-height: 36rpx;\n\t\tmargin-top: 10px;\n\t}\n\n\t/* new */\n\t.content {\n\t\tpadding: 10px;\n\t}\n\n\t.service {\n\t\tpadding-bottom: 15px;\n\t}\n\n\t.jh {\n\t\tcolor: red;\n\t\tmargin-left: 5px;\n\t}\n\n\t.service_title {\n\t\t/* color: #03A9F4; */\n\t\tfont-size: 18px;\n\t\tfont-weight: bold;\n\t}\n\n\t.text-green.data-v-2ee6bce8 {\n\t\tcolor: #12900a;\n\t}\n\n\tpage {\n\t\tbackground-color: #FFFFFF;\n\t}\n\n\t.service_content {\n\t\tmargin: 8px 0px;\n\t}\n\n\t.service_content view {\n\t\tmargin: 3px 0px;\n\t}\n\n\t.lz {\n\t\tmargin: 10px 0px;\n\t}\n</style>\n","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add_material.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add_material.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1708218264769\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}